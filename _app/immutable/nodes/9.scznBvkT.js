import{s as st,o as rt,d as Ae,r as tt,n as lt}from"../chunks/tX34NKkc.js";import{S as at,i as nt,d as _,n as Te,o as he,s as ie,y as ze,a as ue,b as l,p as se,c as n,e as i,f as x,j as P,h as T,g as F,k as u,l as w,t as z,A as we,q as le,x as qe,u as ot,B as Ye,m as it,C as Je}from"../chunks/C0-Udht3.js";import{e as Ge}from"../chunks/D6YF6ztN.js";import{f as Ie}from"../chunks/C15VoBA-.js";function Ke(t,e,s){const r=t.slice();return r[23]=e[s],r}function Qe(t){let e,s,r,c;return{c(){e=u("div"),s=z(t[2]),this.h()},l(f){e=i(f,"DIV",{class:!0});var a=x(e);s=F(a,t[2]),a.forEach(_),this.h()},h(){n(e,"class","bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md")},m(f,a){ue(f,e,a),l(e,s),c=!0},p(f,a){(!c||a&4)&&ie(s,f[2])},i(f){c||(f&&Ae(()=>{c&&(r||(r=we(e,Ie,{},!0)),r.run(1))}),c=!0)},o(f){f&&(r||(r=we(e,Ie,{},!1)),r.run(0)),c=!1},d(f){f&&_(e),f&&r&&r.end()}}}function We(t){let e,s,r=t[5]?"updated":"created",c,f,a,h;return{c(){e=u("div"),s=z("User "),c=z(r),f=z(" successfully!"),this.h()},l(o){e=i(o,"DIV",{class:!0});var d=x(e);s=F(d,"User "),c=F(d,r),f=F(d," successfully!"),d.forEach(_),this.h()},h(){n(e,"class","bg-green-50 border border-green-200 text-green-600 px-4 py-3 rounded-md")},m(o,d){ue(o,e,d),l(e,s),l(e,c),l(e,f),h=!0},p(o,d){(!h||d&32)&&r!==(r=o[5]?"updated":"created")&&ie(c,r)},i(o){h||(o&&Ae(()=>{h&&(a||(a=we(e,Ie,{},!0)),a.run(1))}),h=!0)},o(o){o&&(a||(a=we(e,Ie,{},!1)),a.run(0)),h=!1},d(o){o&&_(e),o&&a&&a.end()}}}function Xe(t){let e,s,r=t[5]?"Edit":"New",c,f,a,h,o,d,p,I="Email",v,E,R,b,y,k="Name",W,A,U,m,g,K="Phone",X,J,C,N,j,me="Role",pe,M,V,re="Admin",Z,ge="User",Y,ae="Moderator",ye,ne,$,De="Status",L,q,ee,ve="Active",O,Ne="Inactive",B,D="Suspended",xe,Q,te,Ue="Cancel",Ce,H,_e=t[5]?"Update":"Create",be,Ee,oe,de,ke,ce;return{c(){e=u("div"),s=u("h2"),c=z(r),f=z(" User"),a=w(),h=u("form"),o=u("div"),d=u("div"),p=u("label"),p.textContent=I,v=w(),E=u("input"),R=w(),b=u("div"),y=u("label"),y.textContent=k,W=w(),A=u("input"),U=w(),m=u("div"),g=u("label"),g.textContent=K,X=w(),J=u("input"),C=w(),N=u("div"),j=u("label"),j.textContent=me,pe=w(),M=u("select"),V=u("option"),V.textContent=re,Z=u("option"),Z.textContent=ge,Y=u("option"),Y.textContent=ae,ye=w(),ne=u("div"),$=u("label"),$.textContent=De,L=w(),q=u("select"),ee=u("option"),ee.textContent=ve,O=u("option"),O.textContent=Ne,B=u("option"),B.textContent=D,xe=w(),Q=u("div"),te=u("button"),te.textContent=Ue,Ce=w(),H=u("button"),be=z(_e),Ee=z(" User"),this.h()},l(S){e=i(S,"DIV",{class:!0});var G=x(e);s=i(G,"H2",{class:!0});var He=x(s);c=F(He,r),f=F(He," User"),He.forEach(_),a=T(G),h=i(G,"FORM",{class:!0});var Ve=x(h);o=i(Ve,"DIV",{class:!0});var fe=x(o);d=i(fe,"DIV",{});var Oe=x(d);p=i(Oe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(p)!=="svelte-12a4vpc"&&(p.textContent=I),v=T(Oe),E=i(Oe,"INPUT",{type:!0,id:!0,class:!0}),Oe.forEach(_),R=T(fe),b=i(fe,"DIV",{});var Le=x(b);y=i(Le,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(y)!=="svelte-15rra68"&&(y.textContent=k),W=T(Le),A=i(Le,"INPUT",{type:!0,id:!0,class:!0}),Le.forEach(_),U=T(fe),m=i(fe,"DIV",{});var Se=x(m);g=i(Se,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(g)!=="svelte-1esiy8w"&&(g.textContent=K),X=T(Se),J=i(Se,"INPUT",{type:!0,id:!0,class:!0}),Se.forEach(_),C=T(fe),N=i(fe,"DIV",{});var Pe=x(N);j=i(Pe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P(j)!=="svelte-tbq2b0"&&(j.textContent=me),pe=T(Pe),M=i(Pe,"SELECT",{id:!0,class:!0});var Be=x(M);V=i(Be,"OPTION",{"data-svelte-h":!0}),P(V)!=="svelte-uoqvo8"&&(V.textContent=re),Z=i(Be,"OPTION",{"data-svelte-h":!0}),P(Z)!=="svelte-1u989fe"&&(Z.textContent=ge),Y=i(Be,"OPTION",{"data-svelte-h":!0}),P(Y)!=="svelte-1md0aho"&&(Y.textContent=ae),Be.forEach(_),Pe.forEach(_),ye=T(fe),ne=i(fe,"DIV",{});var Me=x(ne);$=i(Me,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),P($)!=="svelte-1tekm4o"&&($.textContent=De),L=T(Me),q=i(Me,"SELECT",{id:!0,class:!0});var Re=x(q);ee=i(Re,"OPTION",{"data-svelte-h":!0}),P(ee)!=="svelte-194sq3m"&&(ee.textContent=ve),O=i(Re,"OPTION",{"data-svelte-h":!0}),P(O)!=="svelte-z7qghy"&&(O.textContent=Ne),B=i(Re,"OPTION",{"data-svelte-h":!0}),P(B)!=="svelte-gjvxac"&&(B.textContent=D),Re.forEach(_),Me.forEach(_),fe.forEach(_),xe=T(Ve),Q=i(Ve,"DIV",{class:!0});var je=x(Q);te=i(je,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),P(te)!=="svelte-6ul4rn"&&(te.textContent=Ue),Ce=T(je),H=i(je,"BUTTON",{type:!0,class:!0});var Fe=x(H);be=F(Fe,_e),Ee=F(Fe," User"),Fe.forEach(_),je.forEach(_),Ve.forEach(_),G.forEach(_),this.h()},h(){n(s,"class","text-xl font-semibold mb-4"),n(p,"for","email"),n(p,"class","block text-sm font-medium text-gray-700"),n(E,"type","email"),n(E,"id","email"),n(E,"class","mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"),E.required=!0,n(y,"for","name"),n(y,"class","block text-sm font-medium text-gray-700"),n(A,"type","text"),n(A,"id","name"),n(A,"class","mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"),A.required=!0,n(g,"for","phone"),n(g,"class","block text-sm font-medium text-gray-700"),n(J,"type","tel"),n(J,"id","phone"),n(J,"class","mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"),n(j,"for","role"),n(j,"class","block text-sm font-medium text-gray-700"),V.__value="ADMIN",le(V,V.__value),Z.__value="USER",le(Z,Z.__value),Y.__value="MODERATOR",le(Y,Y.__value),n(M,"id","role"),n(M,"class","mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"),M.required=!0,t[6].role===void 0&&Ae(()=>t[16].call(M)),n($,"for","status"),n($,"class","block text-sm font-medium text-gray-700"),ee.__value="ACTIVE",le(ee,ee.__value),O.__value="INACTIVE",le(O,O.__value),B.__value="SUSPENDED",le(B,B.__value),n(q,"id","status"),n(q,"class","mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"),q.required=!0,t[6].status===void 0&&Ae(()=>t[17].call(q)),n(o,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),n(te,"type","button"),n(te,"class","px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"),n(H,"type","submit"),n(H,"class","px-4 py-2 bg-primary-500 text-white rounded-md hover:bg-primary-600"),n(Q,"class","flex justify-end space-x-3"),n(h,"class","space-y-4"),n(e,"class","bg-white shadow rounded-lg p-6")},m(S,G){ue(S,e,G),l(e,s),l(s,c),l(s,f),l(e,a),l(e,h),l(h,o),l(o,d),l(d,p),l(d,v),l(d,E),le(E,t[6].email),l(o,R),l(o,b),l(b,y),l(b,W),l(b,A),le(A,t[6].name),l(o,U),l(o,m),l(m,g),l(m,X),l(m,J),le(J,t[6].phone),l(o,C),l(o,N),l(N,j),l(N,pe),l(N,M),l(M,V),l(M,Z),l(M,Y),qe(M,t[6].role,!0),l(o,ye),l(o,ne),l(ne,$),l(ne,L),l(ne,q),l(q,ee),l(q,O),l(q,B),qe(q,t[6].status,!0),l(h,xe),l(h,Q),l(Q,te),l(Q,Ce),l(Q,H),l(H,be),l(H,Ee),de=!0,ke||(ce=[se(E,"input",t[13]),se(A,"input",t[14]),se(J,"input",t[15]),se(M,"change",t[16]),se(q,"change",t[17]),se(te,"click",t[11]),se(h,"submit",ot(t[7]))],ke=!0)},p(S,G){(!de||G&32)&&r!==(r=S[5]?"Edit":"New")&&ie(c,r),G&64&&E.value!==S[6].email&&le(E,S[6].email),G&64&&A.value!==S[6].name&&le(A,S[6].name),G&64&&le(J,S[6].phone),G&64&&qe(M,S[6].role),G&64&&qe(q,S[6].status),(!de||G&32)&&_e!==(_e=S[5]?"Update":"Create")&&ie(be,_e)},i(S){de||(S&&Ae(()=>{de&&(oe||(oe=we(e,Ie,{},!0)),oe.run(1))}),de=!0)},o(S){S&&(oe||(oe=we(e,Ie,{},!1)),oe.run(0)),de=!1},d(S){S&&_(e),S&&oe&&oe.end(),ke=!1,tt(ce)}}}function ut(t){let e,s,r,c='<tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">User</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Role</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th></tr>',f,a,h=Ge(t[0]),o=[];for(let p=0;p<h.length;p+=1)o[p]=et(Ke(t,h,p));let d=null;return h.length||(d=Ze()),{c(){e=u("div"),s=u("table"),r=u("thead"),r.innerHTML=c,f=w(),a=u("tbody");for(let p=0;p<o.length;p+=1)o[p].c();d&&d.c(),this.h()},l(p){e=i(p,"DIV",{class:!0});var I=x(e);s=i(I,"TABLE",{class:!0});var v=x(s);r=i(v,"THEAD",{class:!0,"data-svelte-h":!0}),P(r)!=="svelte-1g8jv8d"&&(r.innerHTML=c),f=T(v),a=i(v,"TBODY",{class:!0});var E=x(a);for(let R=0;R<o.length;R+=1)o[R].l(E);d&&d.l(E),E.forEach(_),v.forEach(_),I.forEach(_),this.h()},h(){n(r,"class","bg-gray-50"),n(a,"class","bg-white divide-y divide-gray-200"),n(s,"class","min-w-full divide-y divide-gray-200"),n(e,"class","bg-white shadow overflow-hidden rounded-lg")},m(p,I){ue(p,e,I),l(e,s),l(s,r),l(s,f),l(s,a);for(let v=0;v<o.length;v+=1)o[v]&&o[v].m(a,null);d&&d.m(a,null)},p(p,I){if(I&1793){h=Ge(p[0]);let v;for(v=0;v<h.length;v+=1){const E=Ke(p,h,v);o[v]?o[v].p(E,I):(o[v]=et(E),o[v].c(),o[v].m(a,null))}for(;v<o.length;v+=1)o[v].d(1);o.length=h.length,!h.length&&d?d.p(p,I):h.length?d&&(d.d(1),d=null):(d=Ze(),d.c(),d.m(a,null))}},d(p){p&&_(e),it(o,p),d&&d.d()}}}function dt(t){let e,s='<div class="animate-spin rounded-full h-8 w-8 border-4 border-primary-500 border-t-transparent"></div>';return{c(){e=u("div"),e.innerHTML=s,this.h()},l(r){e=i(r,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1sjl44d"&&(e.innerHTML=s),this.h()},h(){n(e,"class","flex justify-center py-12")},m(r,c){ue(r,e,c)},p:lt,d(r){r&&_(e)}}}function Ze(t){let e,s='<td colspan="4" class="px-6 py-4 text-center text-gray-500">No users found</td> ';return{c(){e=u("tr"),e.innerHTML=s},l(r){e=i(r,"TR",{"data-svelte-h":!0}),P(e)!=="svelte-cgu18d"&&(e.innerHTML=s)},m(r,c){ue(r,e,c)},p:lt,d(r){r&&_(e)}}}function $e(t){let e,s=t[23].phone+"",r;return{c(){e=u("div"),r=z(s),this.h()},l(c){e=i(c,"DIV",{class:!0});var f=x(e);r=F(f,s),f.forEach(_),this.h()},h(){n(e,"class","text-sm text-gray-500")},m(c,f){ue(c,e,f),l(e,r)},p(c,f){f&1&&s!==(s=c[23].phone+"")&&ie(r,s)},d(c){c&&_(e)}}}function ft(t){let e,s="Deactivate",r,c;function f(){return t[20](t[23])}return{c(){e=u("button"),e.textContent=s,this.h()},l(a){e=i(a,"BUTTON",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-tqlrj0"&&(e.textContent=s),this.h()},h(){n(e,"class","text-yellow-600 hover:text-yellow-900")},m(a,h){ue(a,e,h),r||(c=se(e,"click",f),r=!0)},p(a,h){t=a},d(a){a&&_(e),r=!1,c()}}}function ct(t){let e,s="Activate",r,c;function f(){return t[19](t[23])}return{c(){e=u("button"),e.textContent=s,this.h()},l(a){e=i(a,"BUTTON",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1x78rv8"&&(e.textContent=s),this.h()},h(){n(e,"class","text-green-600 hover:text-green-900")},m(a,h){ue(a,e,h),r||(c=se(e,"click",f),r=!0)},p(a,h){t=a},d(a){a&&_(e),r=!1,c()}}}function et(t){let e,s,r,c,f,a,h=(t[23].name?t[23].name[0].toUpperCase():t[23].email[0].toUpperCase())+"",o,d,p,I,v=(t[23].name||"No name")+"",E,R,b,y=t[23].email+"",k,W,A,U,m,g=t[23].role+"",K,X,J,C,N,j=t[23].status+"",me,pe,M,V,re,Z="Edit",ge,Y,ae,ye="Delete",ne,$,De,L=t[23].phone&&$e(t);function q(){return t[18](t[23])}function ee(B,D){return B[23].status!=="ACTIVE"?ct:ft}let ve=ee(t),O=ve(t);function Ne(){return t[21](t[23])}return{c(){e=u("tr"),s=u("td"),r=u("div"),c=u("div"),f=u("div"),a=u("span"),o=z(h),d=w(),p=u("div"),I=u("div"),E=z(v),R=w(),b=u("div"),k=z(y),W=w(),L&&L.c(),A=w(),U=u("td"),m=u("span"),K=z(g),J=w(),C=u("td"),N=u("span"),me=z(j),M=w(),V=u("td"),re=u("button"),re.textContent=Z,ge=w(),O.c(),Y=w(),ae=u("button"),ae.textContent=ye,ne=w(),this.h()},l(B){e=i(B,"TR",{});var D=x(e);s=i(D,"TD",{class:!0});var xe=x(s);r=i(xe,"DIV",{class:!0});var Q=x(r);c=i(Q,"DIV",{class:!0});var te=x(c);f=i(te,"DIV",{class:!0});var Ue=x(f);a=i(Ue,"SPAN",{class:!0});var Ce=x(a);o=F(Ce,h),Ce.forEach(_),Ue.forEach(_),te.forEach(_),d=T(Q),p=i(Q,"DIV",{class:!0});var H=x(p);I=i(H,"DIV",{class:!0});var _e=x(I);E=F(_e,v),_e.forEach(_),R=T(H),b=i(H,"DIV",{class:!0});var be=x(b);k=F(be,y),be.forEach(_),W=T(H),L&&L.l(H),H.forEach(_),Q.forEach(_),xe.forEach(_),A=T(D),U=i(D,"TD",{class:!0});var Ee=x(U);m=i(Ee,"SPAN",{class:!0});var oe=x(m);K=F(oe,g),oe.forEach(_),Ee.forEach(_),J=T(D),C=i(D,"TD",{class:!0});var de=x(C);N=i(de,"SPAN",{class:!0});var ke=x(N);me=F(ke,j),ke.forEach(_),de.forEach(_),M=T(D),V=i(D,"TD",{class:!0});var ce=x(V);re=i(ce,"BUTTON",{class:!0,"data-svelte-h":!0}),P(re)!=="svelte-znnqap"&&(re.textContent=Z),ge=T(ce),O.l(ce),Y=T(ce),ae=i(ce,"BUTTON",{class:!0,"data-svelte-h":!0}),P(ae)!=="svelte-n40bi6"&&(ae.textContent=ye),ce.forEach(_),ne=T(D),D.forEach(_),this.h()},h(){n(a,"class","text-primary-600 font-medium text-lg"),n(f,"class","h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center"),n(c,"class","flex-shrink-0 h-10 w-10"),n(I,"class","text-sm font-medium text-gray-900"),n(b,"class","text-sm text-gray-500"),n(p,"class","ml-4"),n(r,"class","flex items-center"),n(s,"class","px-6 py-4"),n(m,"class",X="px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+(t[23].role==="ADMIN"?"bg-purple-100 text-purple-800":t[23].role==="MODERATOR"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800")),n(U,"class","px-6 py-4"),n(N,"class",pe="px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+(t[23].status==="ACTIVE"?"bg-green-100 text-green-800":t[23].status==="INACTIVE"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800")),n(C,"class","px-6 py-4"),n(re,"class","text-primary-600 hover:text-primary-900"),n(ae,"class","text-red-600 hover:text-red-900"),n(V,"class","px-6 py-4 text-sm font-medium space-x-3")},m(B,D){ue(B,e,D),l(e,s),l(s,r),l(r,c),l(c,f),l(f,a),l(a,o),l(r,d),l(r,p),l(p,I),l(I,E),l(p,R),l(p,b),l(b,k),l(p,W),L&&L.m(p,null),l(e,A),l(e,U),l(U,m),l(m,K),l(e,J),l(e,C),l(C,N),l(N,me),l(e,M),l(e,V),l(V,re),l(V,ge),O.m(V,null),l(V,Y),l(V,ae),l(e,ne),$||(De=[se(re,"click",q),se(ae,"click",Ne)],$=!0)},p(B,D){t=B,D&1&&h!==(h=(t[23].name?t[23].name[0].toUpperCase():t[23].email[0].toUpperCase())+"")&&ie(o,h),D&1&&v!==(v=(t[23].name||"No name")+"")&&ie(E,v),D&1&&y!==(y=t[23].email+"")&&ie(k,y),t[23].phone?L?L.p(t,D):(L=$e(t),L.c(),L.m(p,null)):L&&(L.d(1),L=null),D&1&&g!==(g=t[23].role+"")&&ie(K,g),D&1&&X!==(X="px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+(t[23].role==="ADMIN"?"bg-purple-100 text-purple-800":t[23].role==="MODERATOR"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"))&&n(m,"class",X),D&1&&j!==(j=t[23].status+"")&&ie(me,j),D&1&&pe!==(pe="px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+(t[23].status==="ACTIVE"?"bg-green-100 text-green-800":t[23].status==="INACTIVE"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"))&&n(N,"class",pe),ve===(ve=ee(t))&&O?O.p(t,D):(O.d(1),O=ve(t),O&&(O.c(),O.m(V,Y)))},d(B){B&&_(e),L&&L.d(),O.d(),$=!1,tt(De)}}}function ht(t){let e,s,r,c="Users",f,a,h=t[4]?"Cancel":"Add User",o,d,p,I,v,E,R,b=t[2]&&Qe(t),y=t[3]&&We(t),k=t[4]&&Xe(t);function W(m,g){return m[1]?dt:ut}let A=W(t),U=A(t);return{c(){e=u("div"),s=u("div"),r=u("h1"),r.textContent=c,f=w(),a=u("button"),o=z(h),d=w(),b&&b.c(),p=w(),y&&y.c(),I=w(),k&&k.c(),v=w(),U.c(),this.h()},l(m){e=i(m,"DIV",{class:!0});var g=x(e);s=i(g,"DIV",{class:!0});var K=x(s);r=i(K,"H1",{class:!0,"data-svelte-h":!0}),P(r)!=="svelte-6st971"&&(r.textContent=c),f=T(K),a=i(K,"BUTTON",{class:!0});var X=x(a);o=F(X,h),X.forEach(_),K.forEach(_),d=T(g),b&&b.l(g),p=T(g),y&&y.l(g),I=T(g),k&&k.l(g),v=T(g),U.l(g),g.forEach(_),this.h()},h(){n(r,"class","text-2xl font-semibold text-gray-900"),n(a,"class","bg-primary-500 text-white px-4 py-2 rounded-md hover:bg-primary-600 transition-colors"),n(s,"class","flex justify-between items-center"),n(e,"class","space-y-6")},m(m,g){ue(m,e,g),l(e,s),l(s,r),l(s,f),l(s,a),l(a,o),l(e,d),b&&b.m(e,null),l(e,p),y&&y.m(e,null),l(e,I),k&&k.m(e,null),l(e,v),U.m(e,null),E||(R=se(a,"click",t[12]),E=!0)},p(m,[g]){g&16&&h!==(h=m[4]?"Cancel":"Add User")&&ie(o,h),m[2]?b?(b.p(m,g),g&4&&he(b,1)):(b=Qe(m),b.c(),he(b,1),b.m(e,p)):b&&(Je(),Te(b,1,1,()=>{b=null}),ze()),m[3]?y?(y.p(m,g),g&8&&he(y,1)):(y=We(m),y.c(),he(y,1),y.m(e,I)):y&&(Je(),Te(y,1,1,()=>{y=null}),ze()),m[4]?k?(k.p(m,g),g&16&&he(k,1)):(k=Xe(m),k.c(),he(k,1),k.m(e,v)):k&&(Je(),Te(k,1,1,()=>{k=null}),ze()),A===(A=W(m))&&U?U.p(m,g):(U.d(1),U=A(m),U&&(U.c(),U.m(e,null)))},i(m){he(b),he(y),he(k)},o(m){Te(b),Te(y),Te(k)},d(m){m&&_(e),b&&b.d(),y&&y.d(),k&&k.d(),U.d(),E=!1,R()}}}function pt(t,e,s){let r=[],c=!0,f=null,a=!1,h=!1,o=null,d={email:"",name:"",role:"USER",phone:"",status:"ACTIVE"};rt(async()=>{await p()});async function p(){try{const C=await fetch("/api/admin/users");if(!C.ok)throw new Error("Failed to load users");s(0,r=await C.json())}catch(C){s(2,f=C.message)}finally{s(1,c=!1)}}async function I(){try{const C=o?`/api/admin/users/${o.id}`:"/api/admin/users";if(!(await fetch(C,{method:o?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)})).ok)throw new Error("Failed to save user");await p(),b(),s(3,a=!0),setTimeout(()=>s(3,a=!1),3e3)}catch(C){s(2,f=C.message)}}async function v(C){if(confirm("Are you sure you want to delete this user?"))try{if(!(await fetch(`/api/admin/users/${C}`,{method:"DELETE"})).ok)throw new Error("Failed to delete user");await p()}catch(N){s(2,f=N.message)}}async function E(C,N){try{if(!(await fetch(`/api/admin/users/${C}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:N})})).ok)throw new Error("Failed to update user status");await p()}catch(j){s(2,f=j.message)}}function R(C){s(5,o=C),s(6,d={...C}),s(4,h=!0)}function b(){s(6,d={email:"",name:"",role:"USER",phone:"",status:"ACTIVE"}),s(5,o=null),s(4,h=!1)}const y=()=>s(4,h=!h);function k(){d.email=this.value,s(6,d)}function W(){d.name=this.value,s(6,d)}function A(){d.phone=this.value,s(6,d)}function U(){d.role=Ye(this),s(6,d)}function m(){d.status=Ye(this),s(6,d)}return[r,c,f,a,h,o,d,I,v,E,R,b,y,k,W,A,U,m,C=>R(C),C=>E(C.id,"ACTIVE"),C=>E(C.id,"INACTIVE"),C=>v(C.id)]}class gt extends at{constructor(e){super(),nt(this,e,pt,ht,st,{})}}export{gt as component};
