import{S as Me,i as Oe,s as je,d,C as Le,r as pe,u as re,I as xe,D as wt,E as le,J as Se,b as yt,c as t,y as Tt,F as He,e as r,z as Pe,f as a,g as m,k as E,j as p,K as ge,l as n,m as x,G as Be,a as st,h as at,t as nt,L as be,M as qe,n as ie,q as Fe,N as Ue}from"../chunks/BIY23d-Z.js";import{e as ye}from"../chunks/D6YF6ztN.js";import"../chunks/IHki7fMi.js";import{a as De}from"../chunks/BKP5L4D0.js";function Ce(l,e,s){const i=l.slice();return i[21]=e[s],i}function Ee(l){let e,s;return{c(){e=n("div"),s=nt(l[2]),this.h()},l(i){e=a(i,"DIV",{class:!0});var h=m(e);s=at(h,l[2]),h.forEach(d),this.h()},h(){r(e,"class","bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md")},m(i,h){yt(i,e,h),t(e,s)},p(i,h){h&4&&st(s,i[2])},d(i){i&&d(e)}}}function Ge(l){let e,s,i,h='<tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Donor</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Project</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Amount</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th></tr>',b,v,u=ye(l[0]),o=[];for(let c=0;c<u.length;c+=1)o[c]=we(Ce(l,u,c));let f=null;return u.length||(f=ke()),{c(){e=n("div"),s=n("table"),i=n("thead"),i.innerHTML=h,b=x(),v=n("tbody");for(let c=0;c<o.length;c+=1)o[c].c();f&&f.c(),this.h()},l(c){e=a(c,"DIV",{class:!0});var g=m(e);s=a(g,"TABLE",{class:!0});var _=m(s);i=a(_,"THEAD",{class:!0,"data-svelte-h":!0}),E(i)!=="svelte-1mddsnl"&&(i.innerHTML=h),b=p(_),v=a(_,"TBODY",{class:!0});var V=m(v);for(let K=0;K<o.length;K+=1)o[K].l(V);f&&f.l(V),V.forEach(d),_.forEach(d),g.forEach(d),this.h()},h(){r(i,"class","bg-gray-50"),r(v,"class","bg-white divide-y divide-gray-200"),r(s,"class","min-w-full divide-y divide-gray-200"),r(e,"class","bg-white shadow overflow-hidden rounded-lg")},m(c,g){yt(c,e,g),t(e,s),t(s,i),t(s,b),t(s,v);for(let _=0;_<o.length;_+=1)o[_]&&o[_].m(v,null);f&&f.m(v,null)},p(c,g){if(g&193){u=ye(c[0]);let _;for(_=0;_<u.length;_+=1){const V=Ce(c,u,_);o[_]?o[_].p(V,g):(o[_]=we(V),o[_].c(),o[_].m(v,null))}for(;_<o.length;_+=1)o[_].d(1);o.length=u.length,!u.length&&f?f.p(c,g):u.length?f&&(f.d(1),f=null):(f=ke(),f.c(),f.m(v,null))}},d(c){c&&d(e),Fe(o,c),f&&f.d()}}}function Re(l){let e,s='<div class="animate-spin rounded-full h-8 w-8 border-4 border-primary-500 border-t-transparent"></div>';return{c(){e=n("div"),e.innerHTML=s,this.h()},l(i){e=a(i,"DIV",{class:!0,"data-svelte-h":!0}),E(e)!=="svelte-1sjl44d"&&(e.innerHTML=s),this.h()},h(){r(e,"class","flex justify-center py-12")},m(i,h){yt(i,e,h)},p:ie,d(i){i&&d(e)}}}function ke(l){let e,s='<td colspan="6" class="px-6 py-4 text-center text-gray-500">No donations found</td> ';return{c(){e=n("tr"),e.innerHTML=s},l(i){e=a(i,"TR",{"data-svelte-h":!0}),E(e)!=="svelte-1ujqkwo"&&(e.innerHTML=s)},m(i,h){yt(i,e,h)},p:ie,d(i){i&&d(e)}}}function Ie(l){let e,s="Mark Complete",i,h;function b(){return l[16](l[21])}return{c(){e=n("button"),e.textContent=s,this.h()},l(v){e=a(v,"BUTTON",{class:!0,"data-svelte-h":!0}),E(e)!=="svelte-1xuxegw"&&(e.textContent=s),this.h()},h(){r(e,"class","text-green-600 hover:text-green-900")},m(v,u){yt(v,e,u),i||(h=Tt(e,"click",b),i=!0)},p(v,u){l=v},d(v){v&&d(e),i=!1,h()}}}function we(l){let e,s,i,h=(l[21].donor_name||"Anonymous")+"",b,v,u,o=(l[21].donor_email||"N/A")+"",f,c,g,_,V=l[21].project_title+"",K,T,P,M=ae(l[21].amount)+"",ct,Dt,k,A,Ct=l[21].status+"",q,C,N,J,F=se(l[21].created_at)+"",rt,it,H,S,Et="View Details",_t,U,At,G;function R(){return l[15](l[21])}let O=l[21].status==="PENDING"&&Ie(l);return{c(){e=n("tr"),s=n("td"),i=n("div"),b=nt(h),v=x(),u=n("div"),f=nt(o),c=x(),g=n("td"),_=n("div"),K=nt(V),T=x(),P=n("td"),ct=nt(M),Dt=x(),k=n("td"),A=n("span"),q=nt(Ct),N=x(),J=n("td"),rt=nt(F),it=x(),H=n("td"),S=n("button"),S.textContent=Et,_t=x(),O&&O.c(),U=x(),this.h()},l(ot){e=a(ot,"TR",{});var y=m(e);s=a(y,"TD",{class:!0});var Y=m(s);i=a(Y,"DIV",{class:!0});var Q=m(i);b=at(Q,h),Q.forEach(d),v=p(Y),u=a(Y,"DIV",{class:!0});var W=m(u);f=at(W,o),W.forEach(d),Y.forEach(d),c=p(y),g=a(y,"TD",{class:!0});var Vt=m(g);_=a(Vt,"DIV",{class:!0});var Nt=m(_);K=at(Nt,V),Nt.forEach(d),Vt.forEach(d),T=p(y),P=a(y,"TD",{class:!0});var j=m(P);ct=at(j,M),j.forEach(d),Dt=p(y),k=a(y,"TD",{class:!0});var ft=m(k);A=a(ft,"SPAN",{class:!0});var pt=m(A);q=at(pt,Ct),pt.forEach(d),ft.forEach(d),N=p(y),J=a(y,"TD",{class:!0});var dt=m(J);rt=at(dt,F),dt.forEach(d),it=p(y),H=a(y,"TD",{class:!0});var mt=m(H);S=a(mt,"BUTTON",{class:!0,"data-svelte-h":!0}),E(S)!=="svelte-djhuxt"&&(S.textContent=Et),_t=p(mt),O&&O.l(mt),mt.forEach(d),U=p(y),y.forEach(d),this.h()},h(){r(i,"class","text-sm text-gray-900"),r(u,"class","text-sm text-gray-500"),r(s,"class","px-6 py-4"),r(_,"class","text-sm text-gray-900"),r(g,"class","px-6 py-4"),r(P,"class","px-6 py-4 text-sm text-gray-900"),r(A,"class",C="px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+(l[21].status==="COMPLETED"?"bg-green-100 text-green-800":l[21].status==="PENDING"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800")),r(k,"class","px-6 py-4"),r(J,"class","px-6 py-4 text-sm text-gray-500"),r(S,"class","text-primary-600 hover:text-primary-900"),r(H,"class","px-6 py-4 text-sm font-medium space-x-3")},m(ot,y){yt(ot,e,y),t(e,s),t(s,i),t(i,b),t(s,v),t(s,u),t(u,f),t(e,c),t(e,g),t(g,_),t(_,K),t(e,T),t(e,P),t(P,ct),t(e,Dt),t(e,k),t(k,A),t(A,q),t(e,N),t(e,J),t(J,rt),t(e,it),t(e,H),t(H,S),t(H,_t),O&&O.m(H,null),t(e,U),At||(G=Tt(S,"click",R),At=!0)},p(ot,y){l=ot,y&1&&h!==(h=(l[21].donor_name||"Anonymous")+"")&&st(b,h),y&1&&o!==(o=(l[21].donor_email||"N/A")+"")&&st(f,o),y&1&&V!==(V=l[21].project_title+"")&&st(K,V),y&1&&M!==(M=ae(l[21].amount)+"")&&st(ct,M),y&1&&Ct!==(Ct=l[21].status+"")&&st(q,Ct),y&1&&C!==(C="px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+(l[21].status==="COMPLETED"?"bg-green-100 text-green-800":l[21].status==="PENDING"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"))&&r(A,"class",C),y&1&&F!==(F=se(l[21].created_at)+"")&&st(rt,F),l[21].status==="PENDING"?O?O.p(l,y):(O=Ie(l),O.c(),O.m(H,null)):O&&(O.d(1),O=null)},d(ot){ot&&d(e),O&&O.d(),At=!1,G()}}}function Te(l){let e,s,i,h,b="Donation Details",v,u,o='<svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',f,c,g,_,V,K="Donor Name",T,P,M=(l[3].donor_name||"Anonymous")+"",ct,Dt,k,A,Ct="Donor Email",q,C,N=(l[3].donor_email||"N/A")+"",J,F,rt,it,H="Amount",S,Et,_t=ae(l[3].amount)+"",U,At,G,R,O="Status",ot,y,Y,Q=l[3].status+"",W,Vt,Nt,j,ft,pt="Date",dt,mt,Ot=se(l[3].created_at)+"",X,Ft,ut,Lt,Rt="Payment Method",Bt,xt,jt=(l[3].payment_method||"N/A")+"",Ut,B,Pt,kt,vt="Project",L,D,I=l[3].project_title+"",St,zt,Ht,Z,ht,Mt,gt,Gt="Close",bt,z,ne,oe,$=l[3].message&&Ae(l),tt=l[3].transaction_id&&Ve(l),et=l[3].status==="PENDING"&&Ne(l);return{c(){e=n("div"),s=n("div"),i=n("div"),h=n("h2"),h.textContent=b,v=x(),u=n("button"),u.innerHTML=o,f=x(),c=n("div"),g=n("div"),_=n("div"),V=n("div"),V.textContent=K,T=x(),P=n("div"),ct=nt(M),Dt=x(),k=n("div"),A=n("div"),A.textContent=Ct,q=x(),C=n("div"),J=nt(N),F=x(),rt=n("div"),it=n("div"),it.textContent=H,S=x(),Et=n("div"),U=nt(_t),At=x(),G=n("div"),R=n("div"),R.textContent=O,ot=x(),y=n("div"),Y=n("span"),W=nt(Q),Nt=x(),j=n("div"),ft=n("div"),ft.textContent=pt,dt=x(),mt=n("div"),X=nt(Ot),Ft=x(),ut=n("div"),Lt=n("div"),Lt.textContent=Rt,Bt=x(),xt=n("div"),Ut=nt(jt),B=x(),Pt=n("div"),kt=n("div"),kt.textContent=vt,L=x(),D=n("div"),St=nt(I),zt=x(),$&&$.c(),Ht=x(),tt&&tt.c(),Z=x(),ht=n("div"),et&&et.c(),Mt=x(),gt=n("button"),gt.textContent=Gt,this.h()},l(w){e=a(w,"DIV",{class:!0});var lt=m(e);s=a(lt,"DIV",{class:!0});var Kt=m(s);i=a(Kt,"DIV",{class:!0});var Jt=m(i);h=a(Jt,"H2",{class:!0,"data-svelte-h":!0}),E(h)!=="svelte-xc9z0d"&&(h.textContent=b),v=p(Jt),u=a(Jt,"BUTTON",{class:!0,"data-svelte-h":!0}),E(u)!=="svelte-1aqaxgx"&&(u.innerHTML=o),Jt.forEach(d),f=p(Kt),c=a(Kt,"DIV",{class:!0});var qt=m(c);g=a(qt,"DIV",{class:!0});var It=m(g);_=a(It,"DIV",{});var Yt=m(_);V=a(Yt,"DIV",{class:!0,"data-svelte-h":!0}),E(V)!=="svelte-r7gbj6"&&(V.textContent=K),T=p(Yt),P=a(Yt,"DIV",{class:!0});var de=m(P);ct=at(de,M),de.forEach(d),Yt.forEach(d),Dt=p(It),k=a(It,"DIV",{});var Qt=m(k);A=a(Qt,"DIV",{class:!0,"data-svelte-h":!0}),E(A)!=="svelte-wy45ip"&&(A.textContent=Ct),q=p(Qt),C=a(Qt,"DIV",{class:!0});var ue=m(C);J=at(ue,N),ue.forEach(d),Qt.forEach(d),F=p(It),rt=a(It,"DIV",{});var Wt=m(rt);it=a(Wt,"DIV",{class:!0,"data-svelte-h":!0}),E(it)!=="svelte-fibl67"&&(it.textContent=H),S=p(Wt),Et=a(Wt,"DIV",{class:!0});var ce=m(Et);U=at(ce,_t),ce.forEach(d),Wt.forEach(d),At=p(It),G=a(It,"DIV",{});var Xt=m(G);R=a(Xt,"DIV",{class:!0,"data-svelte-h":!0}),E(R)!=="svelte-1j0sutp"&&(R.textContent=O),ot=p(Xt),y=a(Xt,"DIV",{class:!0});var fe=m(y);Y=a(fe,"SPAN",{class:!0});var me=m(Y);W=at(me,Q),me.forEach(d),fe.forEach(d),Xt.forEach(d),Nt=p(It),j=a(It,"DIV",{});var Zt=m(j);ft=a(Zt,"DIV",{class:!0,"data-svelte-h":!0}),E(ft)!=="svelte-1qnrta7"&&(ft.textContent=pt),dt=p(Zt),mt=a(Zt,"DIV",{class:!0});var ve=m(mt);X=at(ve,Ot),ve.forEach(d),Zt.forEach(d),Ft=p(It),ut=a(It,"DIV",{});var $t=m(ut);Lt=a($t,"DIV",{class:!0,"data-svelte-h":!0}),E(Lt)!=="svelte-1iko906"&&(Lt.textContent=Rt),Bt=p($t),xt=a($t,"DIV",{class:!0});var he=m(xt);Ut=at(he,jt),he.forEach(d),$t.forEach(d),It.forEach(d),B=p(qt),Pt=a(qt,"DIV",{});var te=m(Pt);kt=a(te,"DIV",{class:!0,"data-svelte-h":!0}),E(kt)!=="svelte-11qmkw0"&&(kt.textContent=vt),L=p(te),D=a(te,"DIV",{class:!0});var _e=m(D);St=at(_e,I),_e.forEach(d),te.forEach(d),zt=p(qt),$&&$.l(qt),Ht=p(qt),tt&&tt.l(qt),qt.forEach(d),Z=p(Kt),ht=a(Kt,"DIV",{class:!0});var ee=m(ht);et&&et.l(ee),Mt=p(ee),gt=a(ee,"BUTTON",{class:!0,"data-svelte-h":!0}),E(gt)!=="svelte-h3f358"&&(gt.textContent=Gt),ee.forEach(d),Kt.forEach(d),lt.forEach(d),this.h()},h(){r(h,"class","text-xl font-semibold text-gray-900"),r(u,"class","text-gray-400 hover:text-gray-500"),r(i,"class","flex justify-between items-start mb-4"),r(V,"class","text-sm font-medium text-gray-500"),r(P,"class","mt-1 text-sm text-gray-900"),r(A,"class","text-sm font-medium text-gray-500"),r(C,"class","mt-1 text-sm text-gray-900"),r(it,"class","text-sm font-medium text-gray-500"),r(Et,"class","mt-1 text-sm text-gray-900"),r(R,"class","text-sm font-medium text-gray-500"),r(Y,"class",Vt="px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+(l[3].status==="COMPLETED"?"bg-green-100 text-green-800":l[3].status==="PENDING"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800")),r(y,"class","mt-1"),r(ft,"class","text-sm font-medium text-gray-500"),r(mt,"class","mt-1 text-sm text-gray-900"),r(Lt,"class","text-sm font-medium text-gray-500"),r(xt,"class","mt-1 text-sm text-gray-900"),r(g,"class","grid grid-cols-2 gap-4"),r(kt,"class","text-sm font-medium text-gray-500"),r(D,"class","mt-1 text-sm text-gray-900"),r(c,"class","space-y-4"),r(gt,"class","px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200"),r(ht,"class","mt-6 flex justify-end space-x-3"),r(s,"class","bg-white rounded-lg p-6 max-w-2xl w-full mx-4"),r(e,"class","fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50")},m(w,lt){yt(w,e,lt),t(e,s),t(s,i),t(i,h),t(i,v),t(i,u),t(s,f),t(s,c),t(c,g),t(g,_),t(_,V),t(_,T),t(_,P),t(P,ct),t(g,Dt),t(g,k),t(k,A),t(k,q),t(k,C),t(C,J),t(g,F),t(g,rt),t(rt,it),t(rt,S),t(rt,Et),t(Et,U),t(g,At),t(g,G),t(G,R),t(G,ot),t(G,y),t(y,Y),t(Y,W),t(g,Nt),t(g,j),t(j,ft),t(j,dt),t(j,mt),t(mt,X),t(g,Ft),t(g,ut),t(ut,Lt),t(ut,Bt),t(ut,xt),t(xt,Ut),t(c,B),t(c,Pt),t(Pt,kt),t(Pt,L),t(Pt,D),t(D,St),t(c,zt),$&&$.m(c,null),t(c,Ht),tt&&tt.m(c,null),t(s,Z),t(s,ht),et&&et.m(ht,null),t(ht,Mt),t(ht,gt),z=!0,ne||(oe=[Tt(u,"click",l[17]),Tt(gt,"click",l[19])],ne=!0)},p(w,lt){(!z||lt&8)&&M!==(M=(w[3].donor_name||"Anonymous")+"")&&st(ct,M),(!z||lt&8)&&N!==(N=(w[3].donor_email||"N/A")+"")&&st(J,N),(!z||lt&8)&&_t!==(_t=ae(w[3].amount)+"")&&st(U,_t),(!z||lt&8)&&Q!==(Q=w[3].status+"")&&st(W,Q),(!z||lt&8&&Vt!==(Vt="px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+(w[3].status==="COMPLETED"?"bg-green-100 text-green-800":w[3].status==="PENDING"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800")))&&r(Y,"class",Vt),(!z||lt&8)&&Ot!==(Ot=se(w[3].created_at)+"")&&st(X,Ot),(!z||lt&8)&&jt!==(jt=(w[3].payment_method||"N/A")+"")&&st(Ut,jt),(!z||lt&8)&&I!==(I=w[3].project_title+"")&&st(St,I),w[3].message?$?$.p(w,lt):($=Ae(w),$.c(),$.m(c,Ht)):$&&($.d(1),$=null),w[3].transaction_id?tt?tt.p(w,lt):(tt=Ve(w),tt.c(),tt.m(c,null)):tt&&(tt.d(1),tt=null),w[3].status==="PENDING"?et?et.p(w,lt):(et=Ne(w),et.c(),et.m(ht,Mt)):et&&(et.d(1),et=null)},i(w){z||(w&&Pe(()=>{z&&(bt||(bt=be(e,De,{},!0)),bt.run(1))}),z=!0)},o(w){w&&(bt||(bt=be(e,De,{},!1)),bt.run(0)),z=!1},d(w){w&&d(e),$&&$.d(),tt&&tt.d(),et&&et.d(),w&&bt&&bt.end(),ne=!1,Le(oe)}}}function Ae(l){let e,s,i="Message",h,b,v=l[3].message+"",u;return{c(){e=n("div"),s=n("div"),s.textContent=i,h=x(),b=n("div"),u=nt(v),this.h()},l(o){e=a(o,"DIV",{});var f=m(e);s=a(f,"DIV",{class:!0,"data-svelte-h":!0}),E(s)!=="svelte-19mpbdm"&&(s.textContent=i),h=p(f),b=a(f,"DIV",{class:!0});var c=m(b);u=at(c,v),c.forEach(d),f.forEach(d),this.h()},h(){r(s,"class","text-sm font-medium text-gray-500"),r(b,"class","mt-1 text-sm text-gray-900")},m(o,f){yt(o,e,f),t(e,s),t(e,h),t(e,b),t(b,u)},p(o,f){f&8&&v!==(v=o[3].message+"")&&st(u,v)},d(o){o&&d(e)}}}function Ve(l){let e,s,i="Transaction ID",h,b,v=l[3].transaction_id+"",u;return{c(){e=n("div"),s=n("div"),s.textContent=i,h=x(),b=n("div"),u=nt(v),this.h()},l(o){e=a(o,"DIV",{});var f=m(e);s=a(f,"DIV",{class:!0,"data-svelte-h":!0}),E(s)!=="svelte-1f3bdtg"&&(s.textContent=i),h=p(f),b=a(f,"DIV",{class:!0});var c=m(b);u=at(c,v),c.forEach(d),f.forEach(d),this.h()},h(){r(s,"class","text-sm font-medium text-gray-500"),r(b,"class","mt-1 text-sm text-gray-900")},m(o,f){yt(o,e,f),t(e,s),t(e,h),t(e,b),t(b,u)},p(o,f){f&8&&v!==(v=o[3].transaction_id+"")&&st(u,v)},d(o){o&&d(e)}}}function Ne(l){let e,s="Mark as Complete",i,h;return{c(){e=n("button"),e.textContent=s,this.h()},l(b){e=a(b,"BUTTON",{class:!0,"data-svelte-h":!0}),E(e)!=="svelte-1fmsyp7"&&(e.textContent=s),this.h()},h(){r(e,"class","px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600")},m(b,v){yt(b,e,v),i||(h=Tt(e,"click",l[18]),i=!0)},p:ie,d(b){b&&d(e),i=!1,h()}}}function ze(l){let e,s,i,h="Donations",b,v,u,o="Reset Filters",f,c,g,_,V="Filters",K,T,P,M,ct="Status",Dt,k,A,Ct="All Status",q,C="Pending",N,J="Completed",F,rt="Failed",it,H,S,Et="Start Date",_t,U,At,G,R,O="End Date",ot,y,Y,Q,W,Vt="Min Amount",Nt,j,ft,pt,dt,mt="Max Amount",Ot,X,Ft,ut,Lt='<button type="submit" class="w-full px-4 py-2 bg-primary-500 text-white rounded-md hover:bg-primary-600">Apply Filters</button>',Rt,Bt,xt,jt,Ut,B=l[2]&&Ee(l);function Pt(D,I){return D[1]?Re:Ge}let kt=Pt(l),vt=kt(l),L=l[4]&&l[3]&&Te(l);return{c(){e=n("div"),s=n("div"),i=n("h1"),i.textContent=h,b=x(),v=n("div"),u=n("button"),u.textContent=o,f=x(),B&&B.c(),c=x(),g=n("div"),_=n("h2"),_.textContent=V,K=x(),T=n("form"),P=n("div"),M=n("label"),M.textContent=ct,Dt=x(),k=n("select"),A=n("option"),A.textContent=Ct,q=n("option"),q.textContent=C,N=n("option"),N.textContent=J,F=n("option"),F.textContent=rt,it=x(),H=n("div"),S=n("label"),S.textContent=Et,_t=x(),U=n("input"),At=x(),G=n("div"),R=n("label"),R.textContent=O,ot=x(),y=n("input"),Y=x(),Q=n("div"),W=n("label"),W.textContent=Vt,Nt=x(),j=n("input"),ft=x(),pt=n("div"),dt=n("label"),dt.textContent=mt,Ot=x(),X=n("input"),Ft=x(),ut=n("div"),ut.innerHTML=Lt,Rt=x(),vt.c(),Bt=x(),L&&L.c(),xt=ge(),this.h()},l(D){e=a(D,"DIV",{class:!0});var I=m(e);s=a(I,"DIV",{class:!0});var St=m(s);i=a(St,"H1",{class:!0,"data-svelte-h":!0}),E(i)!=="svelte-e4v4i2"&&(i.textContent=h),b=p(St),v=a(St,"DIV",{class:!0});var zt=m(v);u=a(zt,"BUTTON",{class:!0,"data-svelte-h":!0}),E(u)!=="svelte-1bn8u5x"&&(u.textContent=o),zt.forEach(d),St.forEach(d),f=p(I),B&&B.l(I),c=p(I),g=a(I,"DIV",{class:!0});var Ht=m(g);_=a(Ht,"H2",{class:!0,"data-svelte-h":!0}),E(_)!=="svelte-ei1o7r"&&(_.textContent=V),K=p(Ht),T=a(Ht,"FORM",{class:!0});var Z=m(T);P=a(Z,"DIV",{});var ht=m(P);M=a(ht,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),E(M)!=="svelte-1tekm4o"&&(M.textContent=ct),Dt=p(ht),k=a(ht,"SELECT",{id:!0,class:!0});var Mt=m(k);A=a(Mt,"OPTION",{"data-svelte-h":!0}),E(A)!=="svelte-rskcdc"&&(A.textContent=Ct),q=a(Mt,"OPTION",{"data-svelte-h":!0}),E(q)!=="svelte-1tnqpsc"&&(q.textContent=C),N=a(Mt,"OPTION",{"data-svelte-h":!0}),E(N)!=="svelte-in9rk4"&&(N.textContent=J),F=a(Mt,"OPTION",{"data-svelte-h":!0}),E(F)!=="svelte-qy2gpi"&&(F.textContent=rt),Mt.forEach(d),ht.forEach(d),it=p(Z),H=a(Z,"DIV",{});var gt=m(H);S=a(gt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),E(S)!=="svelte-12tmqq8"&&(S.textContent=Et),_t=p(gt),U=a(gt,"INPUT",{type:!0,id:!0,class:!0}),gt.forEach(d),At=p(Z),G=a(Z,"DIV",{});var Gt=m(G);R=a(Gt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),E(R)!=="svelte-amgs1e"&&(R.textContent=O),ot=p(Gt),y=a(Gt,"INPUT",{type:!0,id:!0,class:!0}),Gt.forEach(d),Y=p(Z),Q=a(Z,"DIV",{});var bt=m(Q);W=a(bt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),E(W)!=="svelte-15h2utw"&&(W.textContent=Vt),Nt=p(bt),j=a(bt,"INPUT",{type:!0,id:!0,class:!0,min:!0}),bt.forEach(d),ft=p(Z),pt=a(Z,"DIV",{});var z=m(pt);dt=a(z,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),E(dt)!=="svelte-1z0v0fk"&&(dt.textContent=mt),Ot=p(z),X=a(z,"INPUT",{type:!0,id:!0,class:!0,min:!0}),z.forEach(d),Ft=p(Z),ut=a(Z,"DIV",{class:!0,"data-svelte-h":!0}),E(ut)!=="svelte-51r2qn"&&(ut.innerHTML=Lt),Z.forEach(d),Ht.forEach(d),Rt=p(I),vt.l(I),I.forEach(d),Bt=p(D),L&&L.l(D),xt=ge(),this.h()},h(){r(i,"class","text-2xl font-semibold text-gray-900"),r(u,"class","bg-gray-100 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-200 transition-colors"),r(v,"class","flex space-x-3"),r(s,"class","flex justify-between items-center"),r(_,"class","text-lg font-medium text-gray-900 mb-4"),r(M,"for","status"),r(M,"class","block text-sm font-medium text-gray-700"),A.__value="all",wt(A,A.__value),q.__value="PENDING",wt(q,q.__value),N.__value="COMPLETED",wt(N,N.__value),F.__value="FAILED",wt(F,F.__value),r(k,"id","status"),r(k,"class","mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"),l[5].status===void 0&&Pe(()=>l[10].call(k)),r(S,"for","startDate"),r(S,"class","block text-sm font-medium text-gray-700"),r(U,"type","date"),r(U,"id","startDate"),r(U,"class","mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"),r(R,"for","endDate"),r(R,"class","block text-sm font-medium text-gray-700"),r(y,"type","date"),r(y,"id","endDate"),r(y,"class","mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"),r(W,"for","minAmount"),r(W,"class","block text-sm font-medium text-gray-700"),r(j,"type","number"),r(j,"id","minAmount"),r(j,"class","mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"),r(j,"min","0"),r(dt,"for","maxAmount"),r(dt,"class","block text-sm font-medium text-gray-700"),r(X,"type","number"),r(X,"id","maxAmount"),r(X,"class","mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"),r(X,"min","0"),r(ut,"class","flex items-end"),r(T,"class","grid grid-cols-1 md:grid-cols-3 gap-4"),r(g,"class","bg-white shadow rounded-lg p-6"),r(e,"class","space-y-6")},m(D,I){yt(D,e,I),t(e,s),t(s,i),t(s,b),t(s,v),t(v,u),t(e,f),B&&B.m(e,null),t(e,c),t(e,g),t(g,_),t(g,K),t(g,T),t(T,P),t(P,M),t(P,Dt),t(P,k),t(k,A),t(k,q),t(k,N),t(k,F),xe(k,l[5].status,!0),t(T,it),t(T,H),t(H,S),t(H,_t),t(H,U),wt(U,l[5].startDate),t(T,At),t(T,G),t(G,R),t(G,ot),t(G,y),wt(y,l[5].endDate),t(T,Y),t(T,Q),t(Q,W),t(Q,Nt),t(Q,j),wt(j,l[5].minAmount),t(T,ft),t(T,pt),t(pt,dt),t(pt,Ot),t(pt,X),wt(X,l[5].maxAmount),t(T,Ft),t(T,ut),t(e,Rt),vt.m(e,null),yt(D,Bt,I),L&&L.m(D,I),yt(D,xt,I),jt||(Ut=[Tt(u,"click",l[9]),Tt(k,"change",l[10]),Tt(U,"input",l[11]),Tt(y,"input",l[12]),Tt(j,"input",l[13]),Tt(X,"input",l[14]),Tt(T,"submit",He(l[8]))],jt=!0)},p(D,[I]){D[2]?B?B.p(D,I):(B=Ee(D),B.c(),B.m(e,c)):B&&(B.d(1),B=null),I&32&&xe(k,D[5].status),I&32&&wt(U,D[5].startDate),I&32&&wt(y,D[5].endDate),I&32&&le(j.value)!==D[5].minAmount&&wt(j,D[5].minAmount),I&32&&le(X.value)!==D[5].maxAmount&&wt(X,D[5].maxAmount),kt===(kt=Pt(D))&&vt?vt.p(D,I):(vt.d(1),vt=kt(D),vt&&(vt.c(),vt.m(e,null))),D[4]&&D[3]?L?(L.p(D,I),I&24&&re(L,1)):(L=Te(D),L.c(),re(L,1),L.m(xt.parentNode,xt)):L&&(Ue(),pe(L,1,1,()=>{L=null}),Se())},i(D){re(L)},o(D){pe(L)},d(D){D&&(d(e),d(Bt),d(xt)),B&&B.d(),vt.d(),L&&L.d(D),jt=!1,Le(Ut)}}}function se(l){return new Date(l).toLocaleDateString("en-KE",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}function ae(l){return new Intl.NumberFormat("en-KE",{style:"currency",currency:"KES"}).format(l)}function Ke(l,e,s){let i=[],h=!0,b=null,v=null,u=!1,o={status:"all",startDate:"",endDate:"",minAmount:"",maxAmount:""};Be(async()=>{await f()});async function f(){try{const C=new URLSearchParams;o.status!=="all"&&C.append("status",o.status),o.startDate&&C.append("startDate",o.startDate),o.endDate&&C.append("endDate",o.endDate),o.minAmount&&C.append("minAmount",o.minAmount),o.maxAmount&&C.append("maxAmount",o.maxAmount);const N=await fetch(`/api/admin/donations?${C}`);if(!N.ok)throw new Error("Failed to load donations");s(0,i=await N.json())}catch(C){s(2,b=C.message)}finally{s(1,h=!1)}}async function c(C,N){try{if(!(await fetch(`/api/admin/donations/${C}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:N})})).ok)throw new Error("Failed to update donation status");await f()}catch(J){s(2,b=J.message)}}function g(C){s(3,v=C),s(4,u=!0)}async function _(){s(1,h=!0),await f()}function V(){s(5,o={status:"all",startDate:"",endDate:"",minAmount:"",maxAmount:""}),_()}function K(){o.status=qe(this),s(5,o)}function T(){o.startDate=this.value,s(5,o)}function P(){o.endDate=this.value,s(5,o)}function M(){o.minAmount=le(this.value),s(5,o)}function ct(){o.maxAmount=le(this.value),s(5,o)}return[i,h,b,v,u,o,c,g,_,V,K,T,P,M,ct,C=>g(C),C=>c(C.id,"COMPLETED"),()=>s(4,u=!1),()=>{c(v.id,"COMPLETED"),s(4,u=!1)},()=>s(4,u=!1)]}class Xe extends Me{constructor(e){super(),Oe(this,e,Ke,ze,je,{})}}export{Xe as component};
