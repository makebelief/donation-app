import{s as oe,n as le,h as ne,j as ce}from"../chunks/tX34NKkc.js";import{S as de,i as ue,d as m,a as P,b as n,c as r,v as me,h as C,e as b,f as x,j as G,l as D,k as h,s as fe,g as Z,t as $,F as W,G as X}from"../chunks/C0-Udht3.js";import{i as pe,a as be,p as he,b as ge,g as ye}from"../chunks/BEfahtec.js";function ve(s){const t=JSON.parse(s);return t.data&&(t.data=he(t.data,ge.decoders)),t}function Y(s){return HTMLElement.prototype.cloneNode.call(s)}function we(s,t=()=>{}){const e=async({action:a,result:d,reset:i=!0,invalidateAll:p=!0})=>{d.type==="success"&&(i&&HTMLFormElement.prototype.reset.call(s),p&&await pe()),(location.origin+location.pathname===a.origin+a.pathname||d.type==="redirect"||d.type==="error")&&await be(d)};async function l(a){var _,z,M,v,S;if(((_=a.submitter)!=null&&_.hasAttribute("formmethod")?a.submitter.formMethod:Y(s).method)!=="post")return;a.preventDefault();const i=new URL((z=a.submitter)!=null&&z.hasAttribute("formaction")?a.submitter.formAction:Y(s).action),p=(M=a.submitter)!=null&&M.hasAttribute("formenctype")?a.submitter.formEnctype:Y(s).enctype,o=new FormData(s),w=(v=a.submitter)==null?void 0:v.getAttribute("name");w&&o.append(w,((S=a.submitter)==null?void 0:S.getAttribute("value"))??"");const F=new AbortController;let I=!1;const g=await t({action:i,cancel:()=>I=!0,controller:F,formData:o,formElement:s,submitter:a.submitter})??e;if(I)return;let y;try{const c=new Headers({accept:"application/json","x-sveltekit-action":"true"});p!=="multipart/form-data"&&c.set("Content-Type",/^(:?application\/x-www-form-urlencoded|text\/plain)$/.test(p)?p:"application/x-www-form-urlencoded");const E=p==="multipart/form-data"?o:new URLSearchParams(o),B=await fetch(i,{method:"POST",headers:c,cache:"no-store",body:E,signal:F.signal});y=ve(await B.text()),y.type==="error"&&(y.status=B.status)}catch(c){if((c==null?void 0:c.name)==="AbortError")return;y={type:"error",error:c}}await g({action:i,formData:o,formElement:s,update:c=>e({action:i,result:y,reset:c==null?void 0:c.reset,invalidateAll:c==null?void 0:c.invalidateAll}),result:y})}return HTMLFormElement.prototype.addEventListener.call(s,"submit",l),{destroy(){HTMLFormElement.prototype.removeEventListener.call(s,"submit",l)}}}function ie(s){let t,e;return{c(){t=h("div"),e=$(s[1]),this.h()},l(l){t=b(l,"DIV",{class:!0});var a=x(t);e=Z(a,s[1]),a.forEach(m),this.h()},h(){r(t,"class","mb-6 bg-red-50 dark:bg-red-900/50 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 rounded-lg p-4 text-sm")},m(l,a){P(l,t,a),n(t,e)},p(l,a){a&2&&fe(e,l[1])},d(l){l&&m(t)}}}function xe(s){let t;return{c(){t=$("Sign in")},l(e){t=Z(e,"Sign in")},m(e,l){P(e,t,l)},d(e){e&&m(t)}}}function _e(s){let t,e,l,a;return{c(){t=X("svg"),e=X("circle"),l=X("path"),a=$(`
              Signing in...`),this.h()},l(d){t=W(d,"svg",{class:!0,xmlns:!0,fill:!0,viewBox:!0});var i=x(t);e=W(i,"circle",{class:!0,cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0}),x(e).forEach(m),l=W(i,"path",{class:!0,fill:!0,d:!0}),x(l).forEach(m),i.forEach(m),a=Z(d,`
              Signing in...`),this.h()},h(){r(e,"class","opacity-25"),r(e,"cx","12"),r(e,"cy","12"),r(e,"r","10"),r(e,"stroke","currentColor"),r(e,"stroke-width","4"),r(l,"class","opacity-75"),r(l,"fill","currentColor"),r(l,"d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"),r(t,"class","animate-spin -ml-1 mr-3 h-5 w-5 text-white"),r(t,"xmlns","http://www.w3.org/2000/svg"),r(t,"fill","none"),r(t,"viewBox","0 0 24 24")},m(d,i){P(d,t,i),n(t,e),n(t,l),P(d,a,i)},d(d){d&&(m(t),m(a))}}}function ke(s){let t,e,l,a='<div class="absolute inset-0 bg-gradient-to-br from-blue-900 to-gray-900 opacity-90"></div> <div class="absolute inset-0 bg-[url(&#39;/images/pattern.svg&#39;)] opacity-10"></div>',d,i,p,o,w,F='<h1 class="text-3xl font-bold text-gray-900 dark:text-white">Admin Login</h1> <p class="mt-2 text-gray-600 dark:text-gray-400">Sign in to access the admin dashboard</p>',I,j,g,y,_,z="Email",M,v,S,c,E,B="Password",J,k,K,A,N,Q,ee,f=s[1]&&ie(s);function te(u,L){return u[0]?_e:xe}let O=te(s),T=O(s);return{c(){t=D(),e=h("div"),l=h("div"),l.innerHTML=a,d=D(),i=h("div"),p=h("div"),o=h("div"),w=h("div"),w.innerHTML=F,I=D(),f&&f.c(),j=D(),g=h("form"),y=h("div"),_=h("label"),_.textContent=z,M=D(),v=h("input"),S=D(),c=h("div"),E=h("label"),E.textContent=B,J=D(),k=h("input"),K=D(),A=h("button"),T.c(),this.h()},l(u){me("svelte-k934ay",document.head).forEach(m),t=C(u),e=b(u,"DIV",{class:!0});var U=x(e);l=b(U,"DIV",{class:!0,"data-svelte-h":!0}),G(l)!=="svelte-46bxnx"&&(l.innerHTML=a),d=C(U),i=b(U,"DIV",{class:!0});var re=x(i);p=b(re,"DIV",{class:!0});var ae=x(p);o=b(ae,"DIV",{class:!0});var H=x(o);w=b(H,"DIV",{class:!0,"data-svelte-h":!0}),G(w)!=="svelte-11k6puv"&&(w.innerHTML=F),I=C(H),f&&f.l(H),j=C(H),g=b(H,"FORM",{method:!0,class:!0});var V=x(g);y=b(V,"DIV",{});var q=x(y);_=b(q,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(_)!=="svelte-64ek9n"&&(_.textContent=z),M=C(q),v=b(q,"INPUT",{type:!0,id:!0,name:!0,class:!0,placeholder:!0}),q.forEach(m),S=C(V),c=b(V,"DIV",{});var R=x(c);E=b(R,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),G(E)!=="svelte-rh65pv"&&(E.textContent=B),J=C(R),k=b(R,"INPUT",{type:!0,id:!0,name:!0,class:!0,placeholder:!0}),R.forEach(m),K=C(V),A=b(V,"BUTTON",{type:!0,class:!0});var se=x(A);T.l(se),se.forEach(m),V.forEach(m),H.forEach(m),ae.forEach(m),re.forEach(m),U.forEach(m),this.h()},h(){document.title="Admin Login | Donation Platform",r(l,"class","fixed inset-0 z-0"),r(w,"class","text-center mb-8"),r(_,"for","email"),r(_,"class","block text-sm font-medium text-gray-700 dark:text-gray-300"),r(v,"type","email"),r(v,"id","email"),r(v,"name","email"),v.required=!0,r(v,"class","mt-1 block w-full rounded-lg border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm"),r(v,"placeholder","admin@example.com"),v.disabled=s[0],r(E,"for","password"),r(E,"class","block text-sm font-medium text-gray-700 dark:text-gray-300"),r(k,"type","password"),r(k,"id","password"),r(k,"name","password"),k.required=!0,r(k,"class","mt-1 block w-full rounded-lg border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm"),r(k,"placeholder","••••••••"),k.disabled=s[0],r(A,"type","submit"),r(A,"class","w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 transition-colors duration-200"),A.disabled=s[0],r(g,"method","POST"),r(g,"class","space-y-6 svelte-n4tyyf"),r(o,"class","bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8 backdrop-blur-sm bg-opacity-95 dark:bg-opacity-95"),r(p,"class","max-w-md w-full"),r(i,"class","relative z-10 flex items-center justify-center min-h-screen py-12 px-4 sm:px-6 lg:px-8"),r(e,"class","min-h-screen relative")},m(u,L){P(u,t,L),P(u,e,L),n(e,l),n(e,d),n(e,i),n(i,p),n(p,o),n(o,w),n(o,I),f&&f.m(o,null),n(o,j),n(o,g),n(g,y),n(y,_),n(y,M),n(y,v),n(g,S),n(g,c),n(c,E),n(c,J),n(c,k),n(g,K),n(g,A),T.m(A,null),Q||(ee=ne(N=we.call(null,g,s[4])),Q=!0)},p(u,[L]){u[1]?f?f.p(u,L):(f=ie(u),f.c(),f.m(o,j)):f&&(f.d(1),f=null),L&1&&(v.disabled=u[0]),L&1&&(k.disabled=u[0]),O!==(O=te(u))&&(T.d(1),T=O(u),T&&(T.c(),T.m(A,null))),L&1&&(A.disabled=u[0]),N&&ce(N.update)&&L&7&&N.update.call(null,u[4])},i:le,o:le,d(u){u&&(m(t),m(e)),f&&f.d(),T.d(),Q=!1,ee()}}}function Ee(s,t,e){let l,{data:a}=t,d=!1,i=a.error;const p=()=>(e(0,d=!0),e(1,i=null),async({result:o})=>{var w;e(0,d=!1),o.type==="success"?ye(l):o.type==="error"&&e(1,i=((w=o.error)==null?void 0:w.message)||"An error occurred")});return s.$$set=o=>{"data"in o&&e(3,a=o.data)},s.$$.update=()=>{s.$$.dirty&8&&e(2,l=a.redirect||"/admin")},[d,i,l,a,p]}class Ce extends de{constructor(t){super(),ue(this,t,Ee,ke,oe,{data:3})}}export{Ce as component};
