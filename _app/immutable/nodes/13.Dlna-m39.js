import{S as oe,i as ne,s as ce,n as le,d as m,b as P,c as n,a3 as de,e as r,D as ue,j as D,f as b,g as x,k as J,m as C,l as h,a as me,h as Z,t as $,R as W,T as X,a4 as fe}from"../chunks/T1jbloP9.js";import"../chunks/IHki7fMi.js";import{i as pe,a as be,p as he,b as ge,g as ye}from"../chunks/DxowXdln.js";import{base as ve}from"../chunks/BLe9lsiN.js";function we(s){const t=JSON.parse(s);return t.data&&(t.data=he(t.data,ge.decoders)),t}function Y(s){return HTMLElement.prototype.cloneNode.call(s)}function xe(s,t=()=>{}){const e=async({action:a,result:d,reset:i=!0,invalidateAll:p=!0})=>{d.type==="success"&&(i&&HTMLFormElement.prototype.reset.call(s),p&&await pe()),(location.origin+location.pathname===a.origin+a.pathname||d.type==="redirect"||d.type==="error")&&await be(d)};async function l(a){var _,B,M,v,S;if(((_=a.submitter)!=null&&_.hasAttribute("formmethod")?a.submitter.formMethod:Y(s).method)!=="post")return;a.preventDefault();const i=new URL((B=a.submitter)!=null&&B.hasAttribute("formaction")?a.submitter.formAction:Y(s).action),p=(M=a.submitter)!=null&&M.hasAttribute("formenctype")?a.submitter.formEnctype:Y(s).enctype,o=new FormData(s),w=(v=a.submitter)==null?void 0:v.getAttribute("name");w&&o.append(w,((S=a.submitter)==null?void 0:S.getAttribute("value"))??"");const q=new AbortController;let I=!1;const g=await t({action:i,cancel:()=>I=!0,controller:q,formData:o,formElement:s,submitter:a.submitter})??e;if(I)return;let y;try{const c=new Headers({accept:"application/json","x-sveltekit-action":"true"});p!=="multipart/form-data"&&c.set("Content-Type",/^(:?application\/x-www-form-urlencoded|text\/plain)$/.test(p)?p:"application/x-www-form-urlencoded");const E=p==="multipart/form-data"?o:new URLSearchParams(o),F=await fetch(i,{method:"POST",headers:c,cache:"no-store",body:E,signal:q.signal});y=we(await F.text()),y.type==="error"&&(y.status=F.status)}catch(c){if((c==null?void 0:c.name)==="AbortError")return;y={type:"error",error:c}}await g({action:i,formData:o,formElement:s,update:c=>e({action:i,result:y,reset:c==null?void 0:c.reset,invalidateAll:c==null?void 0:c.invalidateAll}),result:y})}return HTMLFormElement.prototype.addEventListener.call(s,"submit",l),{destroy(){HTMLFormElement.prototype.removeEventListener.call(s,"submit",l)}}}function ie(s){let t,e;return{c(){t=h("div"),e=$(s[1]),this.h()},l(l){t=b(l,"DIV",{class:!0});var a=x(t);e=Z(a,s[1]),a.forEach(m),this.h()},h(){r(t,"class","mb-6 bg-red-50 dark:bg-red-900/50 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 rounded-lg p-4 text-sm")},m(l,a){P(l,t,a),n(t,e)},p(l,a){a&2&&me(e,l[1])},d(l){l&&m(t)}}}function _e(s){let t;return{c(){t=$("Sign in")},l(e){t=Z(e,"Sign in")},m(e,l){P(e,t,l)},d(e){e&&m(t)}}}function ke(s){let t,e,l,a;return{c(){t=X("svg"),e=X("circle"),l=X("path"),a=$(`
              Signing in...`),this.h()},l(d){t=W(d,"svg",{class:!0,xmlns:!0,fill:!0,viewBox:!0});var i=x(t);e=W(i,"circle",{class:!0,cx:!0,cy:!0,r:!0,stroke:!0,"stroke-width":!0}),x(e).forEach(m),l=W(i,"path",{class:!0,fill:!0,d:!0}),x(l).forEach(m),i.forEach(m),a=Z(d,`
              Signing in...`),this.h()},h(){r(e,"class","opacity-25"),r(e,"cx","12"),r(e,"cy","12"),r(e,"r","10"),r(e,"stroke","currentColor"),r(e,"stroke-width","4"),r(l,"class","opacity-75"),r(l,"fill","currentColor"),r(l,"d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"),r(t,"class","animate-spin -ml-1 mr-3 h-5 w-5 text-white"),r(t,"xmlns","http://www.w3.org/2000/svg"),r(t,"fill","none"),r(t,"viewBox","0 0 24 24")},m(d,i){P(d,t,i),n(t,e),n(t,l),P(d,a,i)},d(d){d&&(m(t),m(a))}}}function Ee(s){let t,e,l,a=`<div class="absolute inset-0 bg-gradient-to-br from-blue-900 to-gray-900 opacity-90"></div> <div class="absolute inset-0 opacity-10" style="background-image: url(&#39;${ve}/images/pattern.svg&#39;)"></div>`,d,i,p,o,w,q='<h1 class="text-3xl font-bold text-gray-900 dark:text-white">Admin Login</h1> <p class="mt-2 text-gray-600 dark:text-gray-400">Sign in to access the admin dashboard</p>',I,z,g,y,_,B="Email",M,v,S,c,E,F="Password",G,k,K,A,N,Q,ee,f=s[1]&&ie(s);function te(u,L){return u[0]?ke:_e}let O=te(s),T=O(s);return{c(){t=C(),e=h("div"),l=h("div"),l.innerHTML=a,d=C(),i=h("div"),p=h("div"),o=h("div"),w=h("div"),w.innerHTML=q,I=C(),f&&f.c(),z=C(),g=h("form"),y=h("div"),_=h("label"),_.textContent=B,M=C(),v=h("input"),S=C(),c=h("div"),E=h("label"),E.textContent=F,G=C(),k=h("input"),K=C(),A=h("button"),T.c(),this.h()},l(u){ue("svelte-k934ay",document.head).forEach(m),t=D(u),e=b(u,"DIV",{class:!0});var U=x(e);l=b(U,"DIV",{class:!0,"data-svelte-h":!0}),J(l)!=="svelte-akhq2q"&&(l.innerHTML=a),d=D(U),i=b(U,"DIV",{class:!0});var re=x(i);p=b(re,"DIV",{class:!0});var ae=x(p);o=b(ae,"DIV",{class:!0});var H=x(o);w=b(H,"DIV",{class:!0,"data-svelte-h":!0}),J(w)!=="svelte-11k6puv"&&(w.innerHTML=q),I=D(H),f&&f.l(H),z=D(H),g=b(H,"FORM",{method:!0,class:!0});var V=x(g);y=b(V,"DIV",{});var j=x(y);_=b(j,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),J(_)!=="svelte-64ek9n"&&(_.textContent=B),M=D(j),v=b(j,"INPUT",{type:!0,id:!0,name:!0,class:!0,placeholder:!0}),j.forEach(m),S=D(V),c=b(V,"DIV",{});var R=x(c);E=b(R,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),J(E)!=="svelte-rh65pv"&&(E.textContent=F),G=D(R),k=b(R,"INPUT",{type:!0,id:!0,name:!0,class:!0,placeholder:!0}),R.forEach(m),K=D(V),A=b(V,"BUTTON",{type:!0,class:!0});var se=x(A);T.l(se),se.forEach(m),V.forEach(m),H.forEach(m),ae.forEach(m),re.forEach(m),U.forEach(m),this.h()},h(){document.title="Admin Login | Donation Platform",r(l,"class","fixed inset-0 z-0"),r(w,"class","text-center mb-8"),r(_,"for","email"),r(_,"class","block text-sm font-medium text-gray-700 dark:text-gray-300"),r(v,"type","email"),r(v,"id","email"),r(v,"name","email"),v.required=!0,r(v,"class","mt-1 block w-full rounded-lg border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm"),r(v,"placeholder","admin@example.com"),v.disabled=s[0],r(E,"for","password"),r(E,"class","block text-sm font-medium text-gray-700 dark:text-gray-300"),r(k,"type","password"),r(k,"id","password"),r(k,"name","password"),k.required=!0,r(k,"class","mt-1 block w-full rounded-lg border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm"),r(k,"placeholder","••••••••"),k.disabled=s[0],r(A,"type","submit"),r(A,"class","w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 transition-colors duration-200"),A.disabled=s[0],r(g,"method","POST"),r(g,"class","space-y-6 svelte-n4tyyf"),r(o,"class","bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8 backdrop-blur-sm bg-opacity-95 dark:bg-opacity-95"),r(p,"class","max-w-md w-full"),r(i,"class","relative z-10 flex items-center justify-center min-h-screen py-12 px-4 sm:px-6 lg:px-8"),r(e,"class","min-h-screen relative")},m(u,L){P(u,t,L),P(u,e,L),n(e,l),n(e,d),n(e,i),n(i,p),n(p,o),n(o,w),n(o,I),f&&f.m(o,null),n(o,z),n(o,g),n(g,y),n(y,_),n(y,M),n(y,v),n(g,S),n(g,c),n(c,E),n(c,G),n(c,k),n(g,K),n(g,A),T.m(A,null),Q||(ee=de(N=xe.call(null,g,s[4])),Q=!0)},p(u,[L]){u[1]?f?f.p(u,L):(f=ie(u),f.c(),f.m(o,z)):f&&(f.d(1),f=null),L&1&&(v.disabled=u[0]),L&1&&(k.disabled=u[0]),O!==(O=te(u))&&(T.d(1),T=O(u),T&&(T.c(),T.m(A,null))),L&1&&(A.disabled=u[0]),N&&fe(N.update)&&L&7&&N.update.call(null,u[4])},i:le,o:le,d(u){u&&(m(t),m(e)),f&&f.d(),T.d(),Q=!1,ee()}}}function Ae(s,t,e){let l,{data:a}=t,d=!1,i=a.error;const p=()=>(e(0,d=!0),e(1,i=null),async({result:o})=>{var w;e(0,d=!1),o.type==="success"?ye(l):o.type==="error"&&e(1,i=((w=o.error)==null?void 0:w.message)||"An error occurred")});return s.$$set=o=>{"data"in o&&e(3,a=o.data)},s.$$.update=()=>{s.$$.dirty&8&&e(2,l=a.redirect||"/admin")},[d,i,l,a,p]}class Ie extends oe{constructor(t){super(),ne(this,t,Ae,Ee,ce,{data:3})}}export{Ie as component};
