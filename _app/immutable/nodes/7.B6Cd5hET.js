import{s as ke,o as Ie,r as Ee,d as le,n as Te,e as ce}from"../chunks/tX34NKkc.js";import{S as De,i as Oe,d as c,n as fe,o as re,s as ct,y as Le,a as bt,b as t,p as $,c as a,e as s,f as g,j as L,h as w,g as tt,k as o,l as k,t as et,A as pe,q as N,r as we,x as Gt,u as Pe,B as _e,m as je,C as Ne}from"../chunks/C0-Udht3.js";import{e as he}from"../chunks/D6YF6ztN.js";import{f as me}from"../chunks/C15VoBA-.js";function ve(l,e,r){const n=l.slice();return n[21]=e[r],n}function ge(l){let e,r;return{c(){e=o("div"),r=et(l[2]),this.h()},l(n){e=s(n,"DIV",{class:!0});var f=g(e);r=tt(f,l[2]),f.forEach(c),this.h()},h(){a(e,"class","bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-md")},m(n,f){bt(n,e,f),t(e,r)},p(n,f){f&4&&ct(r,n[2])},d(n){n&&c(e)}}}function be(l){let e,r,n=l[4]?"Edit":"New",f,E,b,u,i,p,m="Title",I,d,j,_,h,F="Description",B,x,C,y,A,q,st="Target Amount",T,P,ft,G,Y,lt="Location",K,M,yt,V,ot,J,kt="Category",It,v,rt,jt="Select a category",U,D="Education",X,xt="Healthcare",H,Dt="Environment",Q,Ot="Community Development",R,Lt="Agriculture",W,Ct="Technology",Yt,Et,pt,ae="Status",Kt,z,nt,se="Active",it,oe="Completed",ut,ne="Paused",Jt,Tt,_t,ie="Image URL",Xt,at,Qt,ht,dt,ue="Cancel",Wt,mt,Pt=l[4]?"Update":"Create",Nt,Zt,vt,wt,$t,de;return{c(){e=o("div"),r=o("h2"),f=et(n),E=et(" Project"),b=k(),u=o("form"),i=o("div"),p=o("label"),p.textContent=m,I=k(),d=o("input"),j=k(),_=o("div"),h=o("label"),h.textContent=F,B=k(),x=o("textarea"),C=k(),y=o("div"),A=o("div"),q=o("label"),q.textContent=st,T=k(),P=o("input"),ft=k(),G=o("div"),Y=o("label"),Y.textContent=lt,K=k(),M=o("input"),yt=k(),V=o("div"),ot=o("div"),J=o("label"),J.textContent=kt,It=k(),v=o("select"),rt=o("option"),rt.textContent=jt,U=o("option"),U.textContent=D,X=o("option"),X.textContent=xt,H=o("option"),H.textContent=Dt,Q=o("option"),Q.textContent=Ot,R=o("option"),R.textContent=Lt,W=o("option"),W.textContent=Ct,Yt=k(),Et=o("div"),pt=o("label"),pt.textContent=ae,Kt=k(),z=o("select"),nt=o("option"),nt.textContent=se,it=o("option"),it.textContent=oe,ut=o("option"),ut.textContent=ne,Jt=k(),Tt=o("div"),_t=o("label"),_t.textContent=ie,Xt=k(),at=o("input"),Qt=k(),ht=o("div"),dt=o("button"),dt.textContent=ue,Wt=k(),mt=o("button"),Nt=et(Pt),Zt=et(" Project"),this.h()},l(O){e=s(O,"DIV",{class:!0});var S=g(e);r=s(S,"H2",{class:!0});var te=g(r);f=tt(te,n),E=tt(te," Project"),te.forEach(c),b=w(S),u=s(S,"FORM",{class:!0});var Z=g(u);i=s(Z,"DIV",{});var At=g(i);p=s(At,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),L(p)!=="svelte-kdnxu0"&&(p.textContent=m),I=w(At),d=s(At,"INPUT",{type:!0,id:!0,class:!0}),At.forEach(c),j=w(Z),_=s(Z,"DIV",{});var Vt=g(_);h=s(Vt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),L(h)!=="svelte-wu5qk8"&&(h.textContent=F),B=w(Vt),x=s(Vt,"TEXTAREA",{id:!0,rows:!0,class:!0}),g(x).forEach(c),Vt.forEach(c),C=w(Z),y=s(Z,"DIV",{class:!0});var Ut=g(y);A=s(Ut,"DIV",{});var qt=g(A);q=s(qt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),L(q)!=="svelte-dmzlpp"&&(q.textContent=st),T=w(qt),P=s(qt,"INPUT",{type:!0,id:!0,class:!0}),qt.forEach(c),ft=w(Ut),G=s(Ut,"DIV",{});var St=g(G);Y=s(St,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),L(Y)!=="svelte-ygyy38"&&(Y.textContent=lt),K=w(St),M=s(St,"INPUT",{type:!0,id:!0,class:!0}),St.forEach(c),Ut.forEach(c),yt=w(Z),V=s(Z,"DIV",{class:!0});var Bt=g(V);ot=s(Bt,"DIV",{});var Mt=g(ot);J=s(Mt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),L(J)!=="svelte-1mdzdx0"&&(J.textContent=kt),It=w(Mt),v=s(Mt,"SELECT",{id:!0,class:!0});var gt=g(v);rt=s(gt,"OPTION",{"data-svelte-h":!0}),L(rt)!=="svelte-15swqsp"&&(rt.textContent=jt),U=s(gt,"OPTION",{"data-svelte-h":!0}),L(U)!=="svelte-forzym"&&(U.textContent=D),X=s(gt,"OPTION",{"data-svelte-h":!0}),L(X)!=="svelte-xywgt5"&&(X.textContent=xt),H=s(gt,"OPTION",{"data-svelte-h":!0}),L(H)!=="svelte-qubmz0"&&(H.textContent=Dt),Q=s(gt,"OPTION",{"data-svelte-h":!0}),L(Q)!=="svelte-19kthln"&&(Q.textContent=Ot),R=s(gt,"OPTION",{"data-svelte-h":!0}),L(R)!=="svelte-frejfc"&&(R.textContent=Lt),W=s(gt,"OPTION",{"data-svelte-h":!0}),L(W)!=="svelte-5gebn2"&&(W.textContent=Ct),gt.forEach(c),Mt.forEach(c),Yt=w(Bt),Et=s(Bt,"DIV",{});var Ht=g(Et);pt=s(Ht,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),L(pt)!=="svelte-1tekm4o"&&(pt.textContent=ae),Kt=w(Ht),z=s(Ht,"SELECT",{id:!0,class:!0});var zt=g(z);nt=s(zt,"OPTION",{"data-svelte-h":!0}),L(nt)!=="svelte-194sq3m"&&(nt.textContent=se),it=s(zt,"OPTION",{"data-svelte-h":!0}),L(it)!=="svelte-in9rk4"&&(it.textContent=oe),ut=s(zt,"OPTION",{"data-svelte-h":!0}),L(ut)!=="svelte-zqmnce"&&(ut.textContent=ne),zt.forEach(c),Ht.forEach(c),Bt.forEach(c),Jt=w(Z),Tt=s(Z,"DIV",{});var Rt=g(Tt);_t=s(Rt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),L(_t)!=="svelte-174hazf"&&(_t.textContent=ie),Xt=w(Rt),at=s(Rt,"INPUT",{type:!0,id:!0,class:!0}),Rt.forEach(c),Qt=w(Z),ht=s(Z,"DIV",{class:!0});var Ft=g(ht);dt=s(Ft,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),L(dt)!=="svelte-6ul4rn"&&(dt.textContent=ue),Wt=w(Ft),mt=s(Ft,"BUTTON",{type:!0,class:!0});var ee=g(mt);Nt=tt(ee,Pt),Zt=tt(ee," Project"),ee.forEach(c),Ft.forEach(c),Z.forEach(c),S.forEach(c),this.h()},h(){a(r,"class","text-xl font-semibold mb-4"),a(p,"for","title"),a(p,"class","block text-sm font-medium text-gray-700"),a(d,"type","text"),a(d,"id","title"),a(d,"class","mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"),d.required=!0,a(h,"for","description"),a(h,"class","block text-sm font-medium text-gray-700"),a(x,"id","description"),a(x,"rows","4"),a(x,"class","mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"),x.required=!0,a(q,"for","target_amount"),a(q,"class","block text-sm font-medium text-gray-700"),a(P,"type","number"),a(P,"id","target_amount"),a(P,"class","mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"),P.required=!0,a(Y,"for","location"),a(Y,"class","block text-sm font-medium text-gray-700"),a(M,"type","text"),a(M,"id","location"),a(M,"class","mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"),M.required=!0,a(y,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),a(J,"for","category"),a(J,"class","block text-sm font-medium text-gray-700"),rt.__value="",N(rt,rt.__value),U.__value="EDUCATION",N(U,U.__value),X.__value="HEALTH",N(X,X.__value),H.__value="ENVIRONMENT",N(H,H.__value),Q.__value="COMMUNITY",N(Q,Q.__value),R.__value="AGRICULTURE",N(R,R.__value),W.__value="TECHNOLOGY",N(W,W.__value),a(v,"id","category"),a(v,"class","mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"),v.required=!0,l[5].category===void 0&&le(()=>l[15].call(v)),a(pt,"for","status"),a(pt,"class","block text-sm font-medium text-gray-700"),nt.__value="ACTIVE",N(nt,nt.__value),it.__value="COMPLETED",N(it,it.__value),ut.__value="PAUSED",N(ut,ut.__value),a(z,"id","status"),a(z,"class","mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"),z.required=!0,l[5].status===void 0&&le(()=>l[16].call(z)),a(V,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),a(_t,"for","image"),a(_t,"class","block text-sm font-medium text-gray-700"),a(at,"type","url"),a(at,"id","image"),a(at,"class","mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"),at.required=!0,a(dt,"type","button"),a(dt,"class","px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"),a(mt,"type","submit"),a(mt,"class","px-4 py-2 bg-primary-500 text-white rounded-md hover:bg-primary-600"),a(ht,"class","flex justify-end space-x-3"),a(u,"class","space-y-4"),a(e,"class","bg-white shadow rounded-lg p-6")},m(O,S){bt(O,e,S),t(e,r),t(r,f),t(r,E),t(e,b),t(e,u),t(u,i),t(i,p),t(i,I),t(i,d),N(d,l[5].title),t(u,j),t(u,_),t(_,h),t(_,B),t(_,x),N(x,l[5].description),t(u,C),t(u,y),t(y,A),t(A,q),t(A,T),t(A,P),N(P,l[5].target_amount),t(y,ft),t(y,G),t(G,Y),t(G,K),t(G,M),N(M,l[5].location),t(u,yt),t(u,V),t(V,ot),t(ot,J),t(ot,It),t(ot,v),t(v,rt),t(v,U),t(v,X),t(v,H),t(v,Q),t(v,R),t(v,W),Gt(v,l[5].category,!0),t(V,Yt),t(V,Et),t(Et,pt),t(Et,Kt),t(Et,z),t(z,nt),t(z,it),t(z,ut),Gt(z,l[5].status,!0),t(u,Jt),t(u,Tt),t(Tt,_t),t(Tt,Xt),t(Tt,at),N(at,l[5].image),t(u,Qt),t(u,ht),t(ht,dt),t(ht,Wt),t(ht,mt),t(mt,Nt),t(mt,Zt),wt=!0,$t||(de=[$(d,"input",l[11]),$(x,"input",l[12]),$(P,"input",l[13]),$(M,"input",l[14]),$(v,"change",l[15]),$(z,"change",l[16]),$(at,"input",l[17]),$(dt,"click",l[9]),$(u,"submit",Pe(l[6]))],$t=!0)},p(O,S){(!wt||S&16)&&n!==(n=O[4]?"Edit":"New")&&ct(f,n),S&32&&d.value!==O[5].title&&N(d,O[5].title),S&32&&N(x,O[5].description),S&32&&we(P.value)!==O[5].target_amount&&N(P,O[5].target_amount),S&32&&M.value!==O[5].location&&N(M,O[5].location),S&32&&Gt(v,O[5].category),S&32&&Gt(z,O[5].status),S&32&&at.value!==O[5].image&&N(at,O[5].image),(!wt||S&16)&&Pt!==(Pt=O[4]?"Update":"Create")&&ct(Nt,Pt)},i(O){wt||(O&&le(()=>{wt&&(vt||(vt=pe(e,me,{},!0)),vt.run(1))}),wt=!0)},o(O){O&&(vt||(vt=pe(e,me,{},!1)),vt.run(0)),wt=!1},d(O){O&&c(e),O&&vt&&vt.end(),$t=!1,Ee(de)}}}function Ae(l){let e,r,n,f='<tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Project</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Location</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Target</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th> <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th></tr>',E,b,u=he(l[0]),i=[];for(let m=0;m<u.length;m+=1)i[m]=Ce(ve(l,u,m));let p=null;return u.length||(p=ye()),{c(){e=o("div"),r=o("table"),n=o("thead"),n.innerHTML=f,E=k(),b=o("tbody");for(let m=0;m<i.length;m+=1)i[m].c();p&&p.c(),this.h()},l(m){e=s(m,"DIV",{class:!0});var I=g(e);r=s(I,"TABLE",{class:!0});var d=g(r);n=s(d,"THEAD",{class:!0,"data-svelte-h":!0}),L(n)!=="svelte-bpwuqm"&&(n.innerHTML=f),E=w(d),b=s(d,"TBODY",{class:!0});var j=g(b);for(let _=0;_<i.length;_+=1)i[_].l(j);p&&p.l(j),j.forEach(c),d.forEach(c),I.forEach(c),this.h()},h(){a(n,"class","bg-gray-50"),a(b,"class","bg-white divide-y divide-gray-200"),a(r,"class","min-w-full divide-y divide-gray-200"),a(e,"class","bg-white shadow overflow-hidden rounded-lg")},m(m,I){bt(m,e,I),t(e,r),t(r,n),t(r,E),t(r,b);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(b,null);p&&p.m(b,null)},p(m,I){if(I&385){u=he(m[0]);let d;for(d=0;d<u.length;d+=1){const j=ve(m,u,d);i[d]?i[d].p(j,I):(i[d]=Ce(j),i[d].c(),i[d].m(b,null))}for(;d<i.length;d+=1)i[d].d(1);i.length=u.length,!u.length&&p?p.p(m,I):u.length?p&&(p.d(1),p=null):(p=ye(),p.c(),p.m(b,null))}},d(m){m&&c(e),je(i,m),p&&p.d()}}}function Ve(l){let e,r='<div class="animate-spin rounded-full h-8 w-8 border-4 border-primary-500 border-t-transparent"></div>';return{c(){e=o("div"),e.innerHTML=r,this.h()},l(n){e=s(n,"DIV",{class:!0,"data-svelte-h":!0}),L(e)!=="svelte-1sjl44d"&&(e.innerHTML=r),this.h()},h(){a(e,"class","flex justify-center py-12")},m(n,f){bt(n,e,f)},p:Te,d(n){n&&c(e)}}}function ye(l){let e,r='<td colspan="5" class="px-6 py-4 text-center text-gray-500">No projects found</td> ';return{c(){e=o("tr"),e.innerHTML=r},l(n){e=s(n,"TR",{"data-svelte-h":!0}),L(e)!=="svelte-4qbybo"&&(e.innerHTML=r)},m(n,f){bt(n,e,f)},p:Te,d(n){n&&c(e)}}}function xe(l){let e,r,n;return{c(){e=o("img"),this.h()},l(f){e=s(f,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ce(e.src,r=l[21].image)||a(e,"src",r),a(e,"alt",n=l[21].title),a(e,"class","h-10 w-10 rounded-full object-cover mr-3")},m(f,E){bt(f,e,E)},p(f,E){E&1&&!ce(e.src,r=f[21].image)&&a(e,"src",r),E&1&&n!==(n=f[21].title)&&a(e,"alt",n)},d(f){f&&c(e)}}}function Ce(l){let e,r,n,f,E,b,u=l[21].title+"",i,p,m,I=l[21].category+"",d,j,_,h=l[21].location+"",F,B,x,C,y=l[21].target_amount.toLocaleString()+"",A,q,st,T,P=l[21].status+"",ft,G,Y,lt,K,M="Edit",yt,V,ot="Delete",J,kt,It,v=l[21].image&&xe(l);function rt(){return l[18](l[21])}function jt(){return l[19](l[21])}return{c(){e=o("tr"),r=o("td"),n=o("div"),v&&v.c(),f=k(),E=o("div"),b=o("div"),i=et(u),p=k(),m=o("div"),d=et(I),j=k(),_=o("td"),F=et(h),B=k(),x=o("td"),C=et("KES "),A=et(y),q=k(),st=o("td"),T=o("span"),ft=et(P),Y=k(),lt=o("td"),K=o("button"),K.textContent=M,yt=k(),V=o("button"),V.textContent=ot,J=k(),this.h()},l(U){e=s(U,"TR",{});var D=g(e);r=s(D,"TD",{class:!0});var X=g(r);n=s(X,"DIV",{class:!0});var xt=g(n);v&&v.l(xt),f=w(xt),E=s(xt,"DIV",{});var H=g(E);b=s(H,"DIV",{class:!0});var Dt=g(b);i=tt(Dt,u),Dt.forEach(c),p=w(H),m=s(H,"DIV",{class:!0});var Q=g(m);d=tt(Q,I),Q.forEach(c),H.forEach(c),xt.forEach(c),X.forEach(c),j=w(D),_=s(D,"TD",{class:!0});var Ot=g(_);F=tt(Ot,h),Ot.forEach(c),B=w(D),x=s(D,"TD",{class:!0});var R=g(x);C=tt(R,"KES "),A=tt(R,y),R.forEach(c),q=w(D),st=s(D,"TD",{class:!0});var Lt=g(st);T=s(Lt,"SPAN",{class:!0});var W=g(T);ft=tt(W,P),W.forEach(c),Lt.forEach(c),Y=w(D),lt=s(D,"TD",{class:!0});var Ct=g(lt);K=s(Ct,"BUTTON",{class:!0,"data-svelte-h":!0}),L(K)!=="svelte-czsf7z"&&(K.textContent=M),yt=w(Ct),V=s(Ct,"BUTTON",{class:!0,"data-svelte-h":!0}),L(V)!=="svelte-12pz0r0"&&(V.textContent=ot),Ct.forEach(c),J=w(D),D.forEach(c),this.h()},h(){a(b,"class","text-sm font-medium text-gray-900"),a(m,"class","text-sm text-gray-500"),a(n,"class","flex items-center"),a(r,"class","px-6 py-4"),a(_,"class","px-6 py-4 text-sm text-gray-500"),a(x,"class","px-6 py-4 text-sm text-gray-500"),a(T,"class",G="px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+(l[21].status==="ACTIVE"?"bg-green-100 text-green-800":l[21].status==="COMPLETED"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800")),a(st,"class","px-6 py-4"),a(K,"class","text-primary-600 hover:text-primary-900"),a(V,"class","text-red-600 hover:text-red-900"),a(lt,"class","px-6 py-4 text-sm font-medium space-x-3")},m(U,D){bt(U,e,D),t(e,r),t(r,n),v&&v.m(n,null),t(n,f),t(n,E),t(E,b),t(b,i),t(E,p),t(E,m),t(m,d),t(e,j),t(e,_),t(_,F),t(e,B),t(e,x),t(x,C),t(x,A),t(e,q),t(e,st),t(st,T),t(T,ft),t(e,Y),t(e,lt),t(lt,K),t(lt,yt),t(lt,V),t(e,J),kt||(It=[$(K,"click",rt),$(V,"click",jt)],kt=!0)},p(U,D){l=U,l[21].image?v?v.p(l,D):(v=xe(l),v.c(),v.m(n,f)):v&&(v.d(1),v=null),D&1&&u!==(u=l[21].title+"")&&ct(i,u),D&1&&I!==(I=l[21].category+"")&&ct(d,I),D&1&&h!==(h=l[21].location+"")&&ct(F,h),D&1&&y!==(y=l[21].target_amount.toLocaleString()+"")&&ct(A,y),D&1&&P!==(P=l[21].status+"")&&ct(ft,P),D&1&&G!==(G="px-2 inline-flex text-xs leading-5 font-semibold rounded-full "+(l[21].status==="ACTIVE"?"bg-green-100 text-green-800":l[21].status==="COMPLETED"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"))&&a(T,"class",G)},d(U){U&&c(e),v&&v.d(),kt=!1,Ee(It)}}}function Ue(l){let e,r,n,f="Projects",E,b,u=l[3]?"Cancel":"Add Project",i,p,m,I,d,j,_=l[2]&&ge(l),h=l[3]&&be(l);function F(C,y){return C[1]?Ve:Ae}let B=F(l),x=B(l);return{c(){e=o("div"),r=o("div"),n=o("h1"),n.textContent=f,E=k(),b=o("button"),i=et(u),p=k(),_&&_.c(),m=k(),h&&h.c(),I=k(),x.c(),this.h()},l(C){e=s(C,"DIV",{class:!0});var y=g(e);r=s(y,"DIV",{class:!0});var A=g(r);n=s(A,"H1",{class:!0,"data-svelte-h":!0}),L(n)!=="svelte-66zoxd"&&(n.textContent=f),E=w(A),b=s(A,"BUTTON",{class:!0});var q=g(b);i=tt(q,u),q.forEach(c),A.forEach(c),p=w(y),_&&_.l(y),m=w(y),h&&h.l(y),I=w(y),x.l(y),y.forEach(c),this.h()},h(){a(n,"class","text-2xl font-semibold text-gray-900"),a(b,"class","bg-primary-500 text-white px-4 py-2 rounded-md hover:bg-primary-600 transition-colors"),a(r,"class","flex justify-between items-center"),a(e,"class","space-y-6")},m(C,y){bt(C,e,y),t(e,r),t(r,n),t(r,E),t(r,b),t(b,i),t(e,p),_&&_.m(e,null),t(e,m),h&&h.m(e,null),t(e,I),x.m(e,null),d||(j=$(b,"click",l[10]),d=!0)},p(C,[y]){y&8&&u!==(u=C[3]?"Cancel":"Add Project")&&ct(i,u),C[2]?_?_.p(C,y):(_=ge(C),_.c(),_.m(e,m)):_&&(_.d(1),_=null),C[3]?h?(h.p(C,y),y&8&&re(h,1)):(h=be(C),h.c(),re(h,1),h.m(e,I)):h&&(Ne(),fe(h,1,1,()=>{h=null}),Le()),B===(B=F(C))&&x?x.p(C,y):(x.d(1),x=B(C),x&&(x.c(),x.m(e,null)))},i(C){re(h)},o(C){fe(h)},d(C){C&&c(e),_&&_.d(),h&&h.d(),x.d(),d=!1,j()}}}function qe(l,e,r){let n=[],f=!0,E=null,b=!1,u=null,i={title:"",description:"",target_amount:0,location:"",category:"",image:"",status:"ACTIVE"};Ie(async()=>{await p()});async function p(){try{const T=await fetch("/api/admin/projects");if(!T.ok)throw new Error("Failed to load projects");r(0,n=await T.json())}catch(T){r(2,E=T.message)}finally{r(1,f=!1)}}async function m(){try{const T=u?`/api/admin/projects/${u.id}`:"/api/admin/projects";if(!(await fetch(T,{method:u?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).ok)throw new Error("Failed to save project");await p(),j()}catch(T){r(2,E=T.message)}}async function I(T){if(confirm("Are you sure you want to delete this project?"))try{if(!(await fetch(`/api/admin/projects/${T}`,{method:"DELETE"})).ok)throw new Error("Failed to delete project");await p()}catch(P){r(2,E=P.message)}}function d(T){r(4,u=T),r(5,i={...T}),r(3,b=!0)}function j(){r(5,i={title:"",description:"",target_amount:0,location:"",category:"",image:"",status:"ACTIVE"}),r(4,u=null),r(3,b=!1)}const _=()=>r(3,b=!b);function h(){i.title=this.value,r(5,i)}function F(){i.description=this.value,r(5,i)}function B(){i.target_amount=we(this.value),r(5,i)}function x(){i.location=this.value,r(5,i)}function C(){i.category=_e(this),r(5,i)}function y(){i.status=_e(this),r(5,i)}function A(){i.image=this.value,r(5,i)}return[n,f,E,b,u,i,m,I,d,j,_,h,F,B,x,C,y,A,T=>d(T),T=>I(T.id)]}class ze extends De{constructor(e){super(),Oe(this,e,qe,Ue,ke,{})}}export{ze as component};
